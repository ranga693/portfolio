(function(){var t,e,o,i,n,r=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,o=this.length;o>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var o,i;for(o in e)i=e[o],null==t[o]&&(t[o]=i);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.addEvent=function(t,e,o){return null!=t.addEventListener?t.addEventListener(e,o,!1):null!=t.attachEvent?t.attachEvent("on"+e,o):t[e]=o},t.prototype.removeEvent=function(t,e,o){return null!=t.removeEventListener?t.removeEventListener(e,o,!1):null!=t.detachEvent?t.detachEvent("on"+e,o):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),o=this.WeakMap||this.MozWeakMap||(o=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,o,i,n,r;for(r=this.keys,e=i=0,n=r.length;n>i;e=++i)if(o=r[e],o===t)return this.values[e]},t.prototype.set=function(t,e){var o,i,n,r,s;for(s=this.keys,o=n=0,r=s.length;r>n;o=++n)if(i=s[o],i===t)return void(this.values[o]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),i=this.getComputedStyle||function(t){return this.getPropertyValue=function(e){var o;return"float"===e&&(e="styleFloat"),n.test(e)&&e.replace(n,function(t,e){return e.toUpperCase()}),(null!=(o=t.currentStyle)?o[e]:void 0)||null},this},n=/(\-([a-z]){1})/g,this.WOW=function(){function n(t){null==t&&(t={}),this.scrollCallback=r(this.scrollCallback,this),this.scrollHandler=r(this.scrollHandler,this),this.start=r(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new o}return n.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0},n.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},n.prototype.start=function(){var e,o,i,n;if(this.stopped=!1,this.boxes=function(){var t,o,i,n;for(i=this.element.querySelectorAll("."+this.config.boxClass),n=[],t=0,o=i.length;o>t;t++)e=i[t],n.push(e);return n}.call(this),this.all=function(){var t,o,i,n;for(i=this.boxes,n=[],t=0,o=i.length;o>t;t++)e=i[t],n.push(e);return n}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else{for(n=this.boxes,o=0,i=n.length;i>o;o++)e=n[o],this.applyStyle(e,!0);this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)}return this.config.live?new t(function(t){return function(e){var o,i,n,r,s;for(s=[],n=0,r=e.length;r>n;n++)i=e[n],s.push(function(){var t,e,n,r;for(n=i.addedNodes||[],r=[],t=0,e=n.length;e>t;t++)o=n[t],r.push(this.doSync(o));return r}.call(t));return s}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},n.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},n.prototype.sync=function(){return t.notSupported?this.doSync(this.element):void 0},n.prototype.doSync=function(t){var e,o,i,n,r;if(!this.stopped){if(null==t&&(t=this.element),1!==t.nodeType)return;for(t=t.parentNode||t,n=t.querySelectorAll("."+this.config.boxClass),r=[],o=0,i=n.length;i>o;o++)e=n[o],s.call(this.all,e)<0?(this.applyStyle(e,!0),this.boxes.push(e),this.all.push(e),r.push(this.scrolled=!0)):r.push(void 0);return r}},n.prototype.show=function(t){return this.applyStyle(t),t.className=""+t.className+" "+this.config.animateClass},n.prototype.applyStyle=function(t,e){var o,i,n;return i=t.getAttribute("data-wow-duration"),o=t.getAttribute("data-wow-delay"),n=t.getAttribute("data-wow-iteration"),this.animate(function(r){return function(){return r.customStyle(t,e,i,o,n)}}(this))},n.prototype.animate=function(){return"requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()}}(),n.prototype.resetStyle=function(){var t,e,o,i,n;for(i=this.boxes,n=[],e=0,o=i.length;o>e;e++)t=i[e],n.push(t.setAttribute("style","visibility: visible;"));return n},n.prototype.customStyle=function(t,e,o,i,n){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",o&&this.vendorSet(t.style,{animationDuration:o}),i&&this.vendorSet(t.style,{animationDelay:i}),n&&this.vendorSet(t.style,{animationIterationCount:n}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},n.prototype.vendors=["moz","webkit"],n.prototype.vendorSet=function(t,e){var o,i,n,r;r=[];for(o in e)i=e[o],t[""+o]=i,r.push(function(){var e,r,s,a;for(s=this.vendors,a=[],e=0,r=s.length;r>e;e++)n=s[e],a.push(t[""+n+o.charAt(0).toUpperCase()+o.substr(1)]=i);return a}.call(this));return r},n.prototype.vendorCSS=function(t,e){var o,n,r,s,a,l;for(n=i(t),o=n.getPropertyCSSValue(e),l=this.vendors,s=0,a=l.length;a>s;s++)r=l[s],o=o||n.getPropertyCSSValue("-"+r+"-"+e);return o},n.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(o){e=i(t).getPropertyValue("animation-name")}return"none"===e?"":e},n.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},n.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},n.prototype.scrollHandler=function(){return this.scrolled=!0},n.prototype.scrollCallback=function(){var t;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var e,o,i,n;for(i=this.boxes,n=[],e=0,o=i.length;o>e;e++)t=i[e],t&&(this.isVisible(t)?this.show(t):n.push(t));return n}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},n.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},n.prototype.isVisible=function(t){var e,o,i,n,r;return o=t.getAttribute("data-wow-offset")||this.config.offset,r=window.pageYOffset,n=r+Math.min(this.element.clientHeight,this.util().innerHeight())-o,i=this.offsetTop(t),e=i+t.clientHeight,n>=i&&e>=r},n.prototype.util=function(){return null!=this._util?this._util:this._util=new e},n.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},n}()}).call(this)(function(t){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,o,i,n){return jQuery.easing[jQuery.easing.def](t,e,o,i,n)},easeInQuad:function(t,e,o,i,n){return i*(e/=n)*e+o},easeOutQuad:function(t,e,o,i,n){return-i*(e/=n)*(e-2)+o},easeInOutQuad:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e+o:-i/2*(--e*(e-2)-1)+o},easeInCubic:function(t,e,o,i,n){return i*(e/=n)*e*e+o},easeOutCubic:function(t,e,o,i,n){return i*((e=e/n-1)*e*e+1)+o},easeInOutCubic:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e+o:i/2*((e-=2)*e*e+2)+o},easeInQuart:function(t,e,o,i,n){return i*(e/=n)*e*e*e+o},easeOutQuart:function(t,e,o,i,n){return-i*((e=e/n-1)*e*e*e-1)+o},easeInOutQuart:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e*e+o:-i/2*((e-=2)*e*e*e-2)+o},easeInQuint:function(t,e,o,i,n){return i*(e/=n)*e*e*e*e+o},easeOutQuint:function(t,e,o,i,n){return i*((e=e/n-1)*e*e*e*e+1)+o},easeInOutQuint:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+o:i/2*((e-=2)*e*e*e*e+2)+o},easeInSine:function(t,e,o,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+o},easeOutSine:function(t,e,o,i,n){return i*Math.sin(e/n*(Math.PI/2))+o},easeInOutSine:function(t,e,o,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+o},easeInExpo:function(t,e,o,i,n){return 0==e?o:i*Math.pow(2,10*(e/n-1))+o},easeOutExpo:function(t,e,o,i,n){return e==n?o+i:i*(-Math.pow(2,-10*e/n)+1)+o},easeInOutExpo:function(t,e,o,i,n){return 0==e?o:e==n?o+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+o:i/2*(-Math.pow(2,-10*--e)+2)+o},easeInCirc:function(t,e,o,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+o},easeOutCirc:function(t,e,o,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+o},easeInOutCirc:function(t,e,o,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+o:i/2*(Math.sqrt(1-(e-=2)*e)+1)+o},easeInElastic:function(t,e,o,i,n){var r=1.70158,s=0,a=i;if(0==e)return o;if(1==(e/=n))return o+i;if(s||(s=.3*n),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/s))+o},easeOutElastic:function(t,e,o,i,n){var r=1.70158,s=0,a=i;if(0==e)return o;if(1==(e/=n))return o+i;if(s||(s=.3*n),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*n-r)*(2*Math.PI)/s)+i+o},easeInOutElastic:function(t,e,o,i,n){var r=1.70158,s=0,a=i;if(0==e)return o;if(2==(e/=n/2))return o+i;if(s||(s=n*(.3*1.5)),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return 1>e?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/s))+o:a*Math.pow(2,-10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/s)*.5+i+o},easeInBack:function(t,e,o,i,n,r){return void 0==r&&(r=1.70158),i*(e/=n)*e*((r+1)*e-r)+o},easeOutBack:function(t,e,o,i,n,r){return void 0==r&&(r=1.70158),i*((e=e/n-1)*e*((r+1)*e+r)+1)+o},easeInOutBack:function(t,e,o,i,n,r){return void 0==r&&(r=1.70158),(e/=n/2)<1?i/2*(e*e*(((r*=1.525)+1)*e-r))+o:i/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+o},easeInBounce:function(t,e,o,i,n){return i-jQuery.easing.easeOutBounce(t,n-e,0,i,n)+o},easeOutBounce:function(t,e,o,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+o:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+o:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+o:i*(7.5625*(e-=2.625/2.75)*e+.984375)+o},easeInOutBounce:function(t,e,o,i,n){return n/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,i,n)+o:.5*jQuery.easing.easeOutBounce(t,2*e-n,0,i,n)+.5*i+o}})(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var e=!1,o=!1,i=5e3,n=2e3,r=0,s=["ms","moz","webkit","o"],a=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!a)for(var c in s){var u=s[c];a||(a=window[u+"RequestAnimationFrame"]),l||(l=window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"])}var h=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=document.getElementsByTagName("script"),t=t[t.length-1].src.split("?")[0];return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}()},p=!1,f=function(){if(p)return p;var t=document.createElement("DIV"),e={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};e.isopera="opera"in window,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),e.isie="all"in document&&"attachEvent"in t&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in t.style),e.isie7=e.isie&&!e.isieold&&(!("documentMode"in document)||7==document.documentMode),e.isie8=e.isie&&"documentMode"in document&&8==document.documentMode,e.isie9=e.isie&&"performance"in window&&9<=document.documentMode,e.isie10=e.isie&&"performance"in window&&10<=document.documentMode,e.isie9mobile=/iemobile.9/i.test(navigator.userAgent),e.isie9mobile&&(e.isie9=!1),e.isie7mobile=!e.isie9mobile&&e.isie7&&/iemobile/i.test(navigator.userAgent),e.ismozilla="MozAppearance"in t.style,e.iswebkit="WebkitAppearance"in t.style,e.ischrome="chrome"in window,e.ischrome22=e.ischrome&&e.haspointerlock,e.ischrome26=e.ischrome&&"transition"in t.style,e.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,e.hasmstouch=window.navigator.msPointerEnabled||!1,e.ismac=/^mac$/i.test(navigator.platform),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),e.isios4=e.isios&&!("seal"in Object),e.isandroid=/android/i.test(navigator.userAgent),e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1;for(var o=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<o.length;i++)if("undefined"!=typeof t.style[o[i]]){e.trstyle=o[i];break}e.hastransform=0!=e.trstyle,e.hastransform&&(t.style[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(t.style[e.trstyle])),e.transitionstyle=!1,e.prefixstyle="",e.transitionend=!1;for(var o="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),n=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),r="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<o.length;i++)if(o[i]in t.style){e.transitionstyle=o[i],e.prefixstyle=n[i],e.transitionend=r[i];break}e.ischrome26&&(e.prefixstyle=n[1]),e.hastransition=e.transitionstyle;t:{for(o=["-moz-grab","-webkit-grab","grab"],(e.ischrome&&!e.ischrome22||e.isie)&&(o=[]),i=0;i<o.length;i++)if(n=o[i],t.style.cursor=n,t.style.cursor==n){o=n;break t}o="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return e.cursorgrabvalue=o,e.hasmousecapture="setCapture"in t,e.hasMutationObserver=!1!==h,p=e},m=function(s,c){function u(){var t=v.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function p(t,e,o){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=z[e]||0,o=3==t?o?v.win.outerHeight()-v.win.innerHeight():v.win.outerWidth()-v.win.innerWidth():1,v.isie8&&t&&(t+=1),o?t:0):t}function m(t,e,o,i){v._bind(t,e,function(i){i=i?i:window.event;var n={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==e?(n.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(n.deltaX=-.025*i.wheelDeltaX)):n.deltaY=i.detail,o.call(t,n)},i)}function g(t,e,o){var i,n;if(0==t.deltaMode?(i=-Math.floor(t.deltaX*(v.opt.mousescrollstep/54)),n=-Math.floor(t.deltaY*(v.opt.mousescrollstep/54))):1==t.deltaMode&&(i=-Math.floor(t.deltaX*v.opt.mousescrollstep),n=-Math.floor(t.deltaY*v.opt.mousescrollstep)),e&&v.opt.oneaxismousemode&&0==i&&n&&(i=n,n=0),i&&(v.scrollmom&&v.scrollmom.stop(),v.lastdeltax+=i,v.debounced("mousewheelx",function(){var t=v.lastdeltax;v.lastdeltax=0,v.rail.drag||v.doScrollLeftBy(t)},15)),n){if(v.opt.nativeparentscrolling&&o&&!v.ispage&&!v.zoomactive)if(0>n){if(v.getScrollTop()>=v.page.maxh)return!0}else if(0>=v.getScrollTop())return!0;v.scrollmom&&v.scrollmom.stop(),v.lastdeltay+=n,v.debounced("mousewheely",function(){var t=v.lastdeltay;v.lastdeltay=0,v.rail.drag||v.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var v=this;if(this.version="3.5.4",this.name="nicescroll",this.me=c,this.opt={doc:t("body"),win:!1},t.extend(this.opt,d),this.opt.snapbackspeed=80,s)for(var w in v.opt)"undefined"!=typeof s[w]&&(v.opt[w]=s[w]);this.iddoc=(this.doc=v.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(v.opt.win?v.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==v.opt.win,this.win=v.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=v.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.isrtlmode=!1;do this.id="ascrail"+n++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=v.opt.overflowx,this.overflowy=v.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=f();var b=t.extend({},this.detected);this.ishwscroll=(this.canhwscroll=b.hastransform&&v.opt.hwacceleration)&&v.haswrapper,this.istouchcapable=!1,b.cantouch&&b.ischrome&&!b.isios&&!b.isandroid&&(this.istouchcapable=!0,b.cantouch=!1),b.cantouch&&b.ismozilla&&!b.isios&&!b.isandroid&&(this.istouchcapable=!0,b.cantouch=!1),v.opt.enablemouselockapi||(b.hasmousecapture=!1,b.haspointerlock=!1),this.delayed=function(t,e,o,i){var n=v.delaylist[t],r=(new Date).getTime();return!i&&n&&n.tt?!1:(n&&n.tt&&clearTimeout(n.tt),void(n&&n.last+o>r&&!n.tt?v.delaylist[t]={last:r+o,tt:setTimeout(function(){v&&(v.delaylist[t].tt=0,e.call())},o)}:n&&n.tt||(v.delaylist[t]={last:r,tt:0},setTimeout(function(){e.call()},0))))},this.debounced=function(t,e,o){var i=v.delaylist[t];(new Date).getTime(),v.delaylist[t]=e,i||setTimeout(function(){var e=v.delaylist[t];v.delaylist[t]=!1,e.call()},o)};var x=!1;if(this.synched=function(t,e){return v.synclist[t]=e,function(){x||(a(function(){x=!1;for(t in v.synclist){var e=v.synclist[t];e&&e.call(v),v.synclist[t]=!1}}),x=!0)}(),t},this.unsynched=function(t){v.synclist[t]&&(v.synclist[t]=!1)},this.css=function(t,e){for(var o in e)v.saved.css.push([t,o,t.css(o)]),t.css(o,e[o])},this.scrollTop=function(t){return"undefined"==typeof t?v.getScrollTop():v.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?v.getScrollLeft():v.setScrollLeft(t)},BezierClass=function(t,e,o,i,n,r,s){this.st=t,this.ed=e,this.spd=o,this.p1=i||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},b.hastranslate3d&&b.isios&&this.doc.css("-webkit-backface-visibility","hidden");var S=function(){var t=v.doc.css(b.trstyle);return t&&"matrix"==t.substr(0,6)?t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(t){if(!t){if(t=S())return 16==t.length?-t[13]:-t[5];if(v.timerscroll&&v.timerscroll.bz)return v.timerscroll.bz.getNow()}return v.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=S())return 16==t.length?-t[12]:-t[4];if(v.timerscroll&&v.timerscroll.bh)return v.timerscroll.bh.getNow()}return v.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),t.dispatchEvent(e)}:document.fireEvent?function(t){var e=document.createEventObject();t.fireEvent("onscroll"),e.cancelBubble=!0}:function(){},b.hastranslate3d&&v.opt.enabletranslate3d?(this.setScrollTop=function(t,e){v.doc.translate.y=t,v.doc.translate.ty=-1*t+"px",v.doc.css(b.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)"),e||v.notifyScrollEvent(v.win[0])},this.setScrollLeft=function(t,e){v.doc.translate.x=t,v.doc.translate.tx=-1*t+"px",v.doc.css(b.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)"),e||v.notifyScrollEvent(v.win[0])}):(this.setScrollTop=function(t,e){v.doc.translate.y=t,v.doc.translate.ty=-1*t+"px",v.doc.css(b.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")"),e||v.notifyScrollEvent(v.win[0])},this.setScrollLeft=function(t,e){v.doc.translate.x=t,v.doc.translate.tx=-1*t+"px",v.doc.css(b.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")"),e||v.notifyScrollEvent(v.win[0])})}else this.getScrollTop=function(){return v.docscroll.scrollTop()},this.setScrollTop=function(t){return v.docscroll.scrollTop(t)},this.getScrollLeft=function(){return v.docscroll.scrollLeft()},this.setScrollLeft=function(t){return v.docscroll.scrollLeft(t)};this.getTarget=function(t){return t?t.target?t.target:t.srcElement?t.srcElement:!1:!1},this.hasParent=function(t,e){if(!t)return!1;for(var o=t.target||t.srcElement||t||!1;o&&o.id!=e;)o=o.parentNode||!1;return!1!==o};var z={thin:1,medium:3,thick:5};this.getOffset=function(){if(v.isfixed)return{top:parseFloat(v.win.css("top")),left:parseFloat(v.win.css("left"))};if(!v.viewport)return v.win.offset();var t=v.win.offset(),e=v.viewport.offset();return{top:t.top-e.top+v.viewport.scrollTop(),left:t.left-e.left+v.viewport.scrollLeft()}},this.updateScrollBar=function(t){if(v.ishwscroll)v.rail.css({height:v.win.innerHeight()}),v.railh&&v.railh.css({width:v.win.innerWidth()});else{var e=v.getOffset(),o=e.top,i=e.left,o=o+p(v.win,"border-top-width",!0);v.win.outerWidth(),v.win.innerWidth();var i=i+(v.rail.align?v.win.outerWidth()-p(v.win,"border-right-width")-v.rail.width:p(v.win,"border-left-width")),n=v.opt.railoffset;n&&(n.top&&(o+=n.top),v.rail.align&&n.left&&(i+=n.left)),v.locked||v.rail.css({top:o,left:i,height:t?t.h:v.win.innerHeight()}),v.zoom&&v.zoom.css({top:o+1,left:1==v.rail.align?i-20:i+v.rail.width+4}),v.railh&&!v.locked&&(o=e.top,i=e.left,t=v.railh.align?o+p(v.win,"border-top-width",!0)+v.win.innerHeight()-v.railh.height:o+p(v.win,"border-top-width",!0),i+=p(v.win,"border-left-width"),v.railh.css({top:t,left:i,width:v.railh.width}))}},this.doRailClick=function(t,e,o){var i;v.locked||(v.cancelEvent(t),e?(e=o?v.doScrollLeft:v.doScrollTop,i=o?(t.pageX-v.railh.offset().left-v.cursorwidth/2)*v.scrollratio.x:(t.pageY-v.rail.offset().top-v.cursorheight/2)*v.scrollratio.y,e(i)):(e=o?v.doScrollLeftBy:v.doScrollBy,i=o?v.scroll.x:v.scroll.y,t=o?t.pageX-v.railh.offset().left:t.pageY-v.rail.offset().top,o=o?v.view.w:v.view.h,e(i>=t?o:-o)))},v.hasanimationframe=a,v.hascancelanimationframe=l,v.hasanimationframe?v.hascancelanimationframe||(l=function(){v.cancelAnimationFrame=!0}):(a=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(v.saved.css=[],b.isie7mobile||b.isoperamini)return!0;if(b.hasmstouch&&v.css(v.ispage?t("html"):v.win,{"-ms-touch-action":"none"}),v.zindex="auto",v.zindex=v.ispage||"auto"!=v.opt.zindex?v.opt.zindex:u()||"auto",!v.ispage&&"auto"!=v.zindex&&v.zindex>r&&(r=v.zindex),v.isie&&0==v.zindex&&"auto"==v.opt.zindex&&(v.zindex="auto"),!v.ispage||!b.cantouch&&!b.isieold&&!b.isie9mobile){var n=v.docscroll;v.ispage&&(n=v.haswrapper?v.win:v.doc),b.isie9mobile||v.css(n,{"overflow-y":"hidden"}),v.ispage&&b.isie7&&("BODY"==v.doc[0].nodeName?v.css(t("html"),{"overflow-y":"hidden"}):"HTML"==v.doc[0].nodeName&&v.css(t("body"),{"overflow-y":"hidden"})),b.isios&&!v.ispage&&!v.haswrapper&&v.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var s=t(document.createElement("div"));s.css({position:"relative",top:0,"float":"right",width:v.opt.cursorwidth,height:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius}),s.hborder=parseFloat(s.outerHeight()-s.innerHeight()),v.cursor=s;var a=t(document.createElement("div"));a.attr("id",v.id),a.addClass("nicescroll-rails");var l,c,d,p=["left","right"];for(d in p)c=p[d],(l=v.opt.railpadding[c])?a.css("padding-"+c,l+"px"):v.opt.railpadding[c]=0;if(a.append(s),a.width=Math.max(parseFloat(v.opt.cursorwidth),s.outerWidth())+v.opt.railpadding.left+v.opt.railpadding.right,a.css({width:a.width+"px",zIndex:v.zindex,background:v.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==v.opt.railalign?0:1,v.rail=a,s=v.rail.drag=!1,v.opt.boxzoom&&!v.ispage&&!b.isieold&&(s=document.createElement("div"),v.bind(s,"click",v.doZoom),v.zoom=t(s),v.zoom.css({cursor:"pointer","z-index":v.zindex,backgroundImage:"url("+v.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),v.opt.dblclickzoom&&v.bind(v.win,"dblclick",v.doZoom),b.cantouch&&v.opt.gesturezoom&&(v.ongesturezoom=function(t){return 1.5<t.scale&&v.doZoomIn(t),.8>t.scale&&v.doZoomOut(t),v.cancelEvent(t)},v.bind(v.win,"gestureend",v.ongesturezoom))),v.railh=!1,v.opt.horizrailenabled){v.css(n,{"overflow-x":"hidden"}),s=t(document.createElement("div")),s.css({position:"relative",top:0,height:v.opt.cursorwidth,width:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius}),s.wborder=parseFloat(s.outerWidth()-s.innerWidth()),v.cursorh=s;var f=t(document.createElement("div"));f.attr("id",v.id+"-hr"),f.addClass("nicescroll-rails"),f.height=Math.max(parseFloat(v.opt.cursorwidth),s.outerHeight()),f.css({height:f.height+"px",zIndex:v.zindex,background:v.opt.background}),f.append(s),f.visibility=!0,f.scrollable=!0,f.align="top"==v.opt.railvalign?0:1,v.railh=f,v.railh.drag=!1}if(v.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),v.body.append(a),v.railh&&(f.css({position:"fixed",left:"0px",width:"100%"}),f.align?f.css({bottom:"0px"}):f.css({top:"0px"}),v.body.append(f))):(v.ishwscroll?("static"==v.win.css("position")&&v.css(v.win,{position:"relative"}),n="HTML"==v.win[0].nodeName?v.body:v.win,v.zoom&&(v.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),n.append(v.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),n.append(a),f&&(f.css({position:"absolute",left:0,bottom:0}),f.align?f.css({bottom:0}):f.css({top:0}),n.append(f))):(v.isfixed="fixed"==v.win.css("position"),n=v.isfixed?"fixed":"absolute",v.isfixed||(v.viewport=v.getViewport(v.win[0])),v.viewport&&(v.body=v.viewport,0==/fixed|relative|absolute/.test(v.viewport.css("position"))&&v.css(v.viewport,{position:"relative"})),a.css({position:n}),v.zoom&&v.zoom.css({position:n}),v.updateScrollBar(),v.body.append(a),v.zoom&&v.body.append(v.zoom),v.railh&&(f.css({position:n}),v.body.append(f))),b.isios&&v.css(v.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),b.isie&&v.opt.disableoutline&&v.win.attr("hideFocus","true"),b.iswebkit&&v.opt.disableoutline&&v.win.css({outline:"none"})),!1===v.opt.autohidemode?(v.autohidedom=!1,v.rail.css({opacity:v.opt.cursoropacitymax}),v.railh&&v.railh.css({opacity:v.opt.cursoropacitymax})):!0===v.opt.autohidemode||"leave"===v.opt.autohidemode?(v.autohidedom=t().add(v.rail),b.isie8&&(v.autohidedom=v.autohidedom.add(v.cursor)),v.railh&&(v.autohidedom=v.autohidedom.add(v.railh)),v.railh&&b.isie8&&(v.autohidedom=v.autohidedom.add(v.cursorh))):"scroll"==v.opt.autohidemode?(v.autohidedom=t().add(v.rail),v.railh&&(v.autohidedom=v.autohidedom.add(v.railh))):"cursor"==v.opt.autohidemode?(v.autohidedom=t().add(v.cursor),v.railh&&(v.autohidedom=v.autohidedom.add(v.cursorh))):"hidden"==v.opt.autohidemode&&(v.autohidedom=!1,v.hide(),v.locked=!1),b.isie9mobile)v.scrollmom=new y(v),v.onmangotouch=function(t){t=v.getScrollTop();var e=v.getScrollLeft();if(t==v.scrollmom.lastscrolly&&e==v.scrollmom.lastscrollx)return!0;var o=t-v.mangotouch.sy,i=e-v.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2)))){var n=0>o?-1:1,r=0>i?-1:1,s=+new Date;v.mangotouch.lazy&&clearTimeout(v.mangotouch.lazy),80<s-v.mangotouch.tm||v.mangotouch.dry!=n||v.mangotouch.drx!=r?(v.scrollmom.stop(),v.scrollmom.reset(e,t),v.mangotouch.sy=t,v.mangotouch.ly=t,v.mangotouch.sx=e,v.mangotouch.lx=e,v.mangotouch.dry=n,v.mangotouch.drx=r,v.mangotouch.tm=s):(v.scrollmom.stop(),v.scrollmom.update(v.mangotouch.sx-i,v.mangotouch.sy-o),v.mangotouch.tm=s,o=Math.max(Math.abs(v.mangotouch.ly-t),Math.abs(v.mangotouch.lx-e)),v.mangotouch.ly=t,v.mangotouch.lx=e,o>2&&(v.mangotouch.lazy=setTimeout(function(){v.mangotouch.lazy=!1,v.mangotouch.dry=0,v.mangotouch.drx=0,v.mangotouch.tm=0,v.scrollmom.doMomentum(30)},100)))}},a=v.getScrollTop(),f=v.getScrollLeft(),v.mangotouch={
sy:a,ly:a,dry:0,sx:f,lx:f,drx:0,lazy:!1,tm:0},v.bind(v.docscroll,"scroll",v.onmangotouch);else{if(b.cantouch||v.istouchcapable||v.opt.touchbehavior||b.hasmstouch){v.scrollmom=new y(v),v.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(v.hasmoving=!1,!v.locked){if(b.hasmstouch)for(var o=e.target?e.target:!1;o;){var i=t(o).getNiceScroll();if(0<i.length&&i[0].me==v.me)break;if(0<i.length)return!1;if("DIV"==o.nodeName&&o.id==v.id)break;o=o.parentNode?o.parentNode:!1}if(v.cancelScroll(),(o=v.getTarget(e))&&/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return v.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),v.forcescreen&&(i=e,e={original:e.original?e.original:e},e.clientX=i.screenX,e.clientY=i.screenY),v.rail.drag={x:e.clientX,y:e.clientY,sx:v.scroll.x,sy:v.scroll.y,st:v.getScrollTop(),sl:v.getScrollLeft(),pt:2,dl:!1},v.ispage||!v.opt.directionlockdeadzone)v.rail.drag.dl="f";else{var i=t(window).width(),n=t(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(0,s-n),i=Math.max(0,r-i);v.rail.drag.ck=!v.rail.scrollable&&v.railh.scrollable?n>0?"v":!1:v.rail.scrollable&&!v.railh.scrollable&&i>0?"h":!1,v.rail.drag.ck||(v.rail.drag.dl="f")}if(v.opt.touchbehavior&&v.isiframe&&b.isie&&(i=v.win.position(),v.rail.drag.x+=i.left,v.rail.drag.y+=i.top),v.hasmoving=!1,v.lastmouseup=!1,v.scrollmom.reset(e.clientX,e.clientY),!b.cantouch&&!this.istouchcapable&&!b.hasmstouch){if(!o||!/INPUT|SELECT|TEXTAREA/i.test(o.nodeName))return!v.ispage&&b.hasmousecapture&&o.setCapture(),v.opt.touchbehavior?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(t){return v.hasmoving?!1:void o._onclick.call(this,t)}),v.cancelEvent(e)):v.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(o).attr("type"))&&(pc={tg:o,click:!1},v.preventclick=pc)}}},v.ontouchend=function(t){return t.pointerType&&2!=t.pointerType?!1:v.rail.drag&&2==v.rail.drag.pt&&(v.scrollmom.doMomentum(),v.rail.drag=!1,v.hasmoving&&(v.lastmouseup=!0,v.hideCursor(),b.hasmousecapture&&document.releaseCapture(),!b.cantouch))?v.cancelEvent(t):void 0};var m=v.opt.touchbehavior&&v.isiframe&&!b.hasmousecapture;v.ontouchmove=function(e,o){if(e.pointerType&&2!=e.pointerType)return!1;if(v.rail.drag&&2==v.rail.drag.pt){if(b.cantouch&&"undefined"==typeof e.original)return!0;if(v.hasmoving=!0,v.preventclick&&!v.preventclick.click&&(v.preventclick.click=v.preventclick.tg.onclick||!1,v.preventclick.tg.onclick=v.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),v.forcescreen){var i=e;e={original:e.original?e.original:e},e.clientX=i.screenX,e.clientY=i.screenY}if(i=ofy=0,m&&!o){var n=v.win.position(),i=-n.left;ofy=-n.top}var r=e.clientY+ofy,n=r-v.rail.drag.y,s=e.clientX+i,a=s-v.rail.drag.x,l=v.rail.drag.st-n;if(v.ishwscroll&&v.opt.bouncescroll?0>l?l=Math.round(l/2):l>v.page.maxh&&(l=v.page.maxh+Math.round((l-v.page.maxh)/2)):(0>l&&(r=l=0),l>v.page.maxh&&(l=v.page.maxh,r=0)),v.railh&&v.railh.scrollable){var c=v.rail.drag.sl-a;v.ishwscroll&&v.opt.bouncescroll?0>c?c=Math.round(c/2):c>v.page.maxw&&(c=v.page.maxw+Math.round((c-v.page.maxw)/2)):(0>c&&(s=c=0),c>v.page.maxw&&(c=v.page.maxw,s=0))}if(i=!1,v.rail.drag.dl)i=!0,"v"==v.rail.drag.dl?c=v.rail.drag.sl:"h"==v.rail.drag.dl&&(l=v.rail.drag.st);else{var n=Math.abs(n),a=Math.abs(a),u=v.opt.directionlockdeadzone;if("v"==v.rail.drag.ck){if(n>u&&.3*n>=a)return v.rail.drag=!1,!0;a>u&&(v.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==v.rail.drag.ck){if(a>u&&.3*a>=n)return v.rail.drag=!1,!0;n>u&&(v.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(v.synched("touchmove",function(){v.rail.drag&&2==v.rail.drag.pt&&(v.prepareTransition&&v.prepareTransition(0),v.rail.scrollable&&v.setScrollTop(l),v.scrollmom.update(s,r),v.railh&&v.railh.scrollable?(v.setScrollLeft(c),v.showCursor(l,c)):v.showCursor(l),b.isie10&&document.selection.clear())}),b.ischrome&&v.istouchcapable&&(i=!1),i)return v.cancelEvent(e)}}}if(v.onmousedown=function(t,e){if(!v.rail.drag||1==v.rail.drag.pt){if(v.locked)return v.cancelEvent(t);v.cancelScroll(),v.rail.drag={x:t.clientX,y:t.clientY,sx:v.scroll.x,sy:v.scroll.y,pt:1,hr:!!e};var o=v.getTarget(t);return!v.ispage&&b.hasmousecapture&&o.setCapture(),v.isiframe&&!b.hasmousecapture&&(v.saved.csspointerevents=v.doc.css("pointer-events"),v.css(v.doc,{"pointer-events":"none"})),v.hasmoving=!1,v.cancelEvent(t)}},v.onmouseup=function(t){return v.rail.drag&&(b.hasmousecapture&&document.releaseCapture(),v.isiframe&&!b.hasmousecapture&&v.doc.css("pointer-events",v.saved.csspointerevents),1==v.rail.drag.pt)?(v.rail.drag=!1,v.hasmoving&&v.triggerScrollEnd(),v.cancelEvent(t)):void 0},v.onmousemove=function(t){if(v.rail.drag&&1==v.rail.drag.pt){if(b.ischrome&&0==t.which)return v.onmouseup(t);if(v.cursorfreezed=!0,v.hasmoving=!0,v.rail.drag.hr){v.scroll.x=v.rail.drag.sx+(t.clientX-v.rail.drag.x),0>v.scroll.x&&(v.scroll.x=0);var e=v.scrollvaluemaxw;v.scroll.x>e&&(v.scroll.x=e)}else v.scroll.y=v.rail.drag.sy+(t.clientY-v.rail.drag.y),0>v.scroll.y&&(v.scroll.y=0),e=v.scrollvaluemax,v.scroll.y>e&&(v.scroll.y=e);return v.synched("mousemove",function(){v.rail.drag&&1==v.rail.drag.pt&&(v.showCursor(),v.rail.drag.hr?v.doScrollLeft(Math.round(v.scroll.x*v.scrollratio.x),v.opt.cursordragspeed):v.doScrollTop(Math.round(v.scroll.y*v.scrollratio.y),v.opt.cursordragspeed))}),v.cancelEvent(t)}},b.cantouch||v.opt.touchbehavior)v.onpreventclick=function(t){return v.preventclick?(v.preventclick.tg.onclick=v.preventclick.click,v.preventclick=!1,v.cancelEvent(t)):void 0},v.bind(v.win,"mousedown",v.ontouchstart),v.onclick=b.isios?!1:function(t){return v.lastmouseup?(v.lastmouseup=!1,v.cancelEvent(t)):!0},v.opt.grabcursorenabled&&b.cursorgrabvalue&&(v.css(v.ispage?v.doc:v.win,{cursor:b.cursorgrabvalue}),v.css(v.rail,{cursor:b.cursorgrabvalue}));else{var g=function(t){if(v.selectiondrag){if(t){var e=v.win.outerHeight();t=t.pageY-v.selectiondrag.top,t>0&&e>t&&(t=0),t>=e&&(t-=e),v.selectiondrag.df=t}0!=v.selectiondrag.df&&(v.doScrollBy(2*-Math.floor(v.selectiondrag.df/6)),v.debounced("doselectionscroll",function(){g()},50))}};v.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},v.onselectionstart=function(){v.ispage||(v.selectiondrag=v.win.offset())},v.onselectionend=function(){v.selectiondrag=!1},v.onselectiondrag=function(t){v.selectiondrag&&v.hasTextSelected()&&v.debounced("selectionscroll",function(){g(t)},250)}}b.hasmstouch&&(v.css(v.rail,{"-ms-touch-action":"none"}),v.css(v.cursor,{"-ms-touch-action":"none"}),v.bind(v.win,"MSPointerDown",v.ontouchstart),v.bind(document,"MSPointerUp",v.ontouchend),v.bind(document,"MSPointerMove",v.ontouchmove),v.bind(v.cursor,"MSGestureHold",function(t){t.preventDefault()}),v.bind(v.cursor,"contextmenu",function(t){t.preventDefault()})),this.istouchcapable&&(v.bind(v.win,"touchstart",v.ontouchstart),v.bind(document,"touchend",v.ontouchend),v.bind(document,"touchcancel",v.ontouchend),v.bind(document,"touchmove",v.ontouchmove)),v.bind(v.cursor,"mousedown",v.onmousedown),v.bind(v.cursor,"mouseup",v.onmouseup),v.railh&&(v.bind(v.cursorh,"mousedown",function(t){v.onmousedown(t,!0)}),v.bind(v.cursorh,"mouseup",v.onmouseup)),(v.opt.cursordragontouch||!b.cantouch&&!v.opt.touchbehavior)&&(v.rail.css({cursor:"default"}),v.railh&&v.railh.css({cursor:"default"}),v.jqbind(v.rail,"mouseenter",function(){return v.win.is(":visible")?(v.canshowonmouseevent&&v.showCursor(),void(v.rail.active=!0)):!1}),v.jqbind(v.rail,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}),v.opt.sensitiverail&&(v.bind(v.rail,"click",function(t){v.doRailClick(t,!1,!1)}),v.bind(v.rail,"dblclick",function(t){v.doRailClick(t,!0,!1)}),v.bind(v.cursor,"click",function(t){v.cancelEvent(t)}),v.bind(v.cursor,"dblclick",function(t){v.cancelEvent(t)})),v.railh&&(v.jqbind(v.railh,"mouseenter",function(){return v.win.is(":visible")?(v.canshowonmouseevent&&v.showCursor(),void(v.rail.active=!0)):!1}),v.jqbind(v.railh,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}),v.opt.sensitiverail&&(v.bind(v.railh,"click",function(t){v.doRailClick(t,!1,!0)}),v.bind(v.railh,"dblclick",function(t){v.doRailClick(t,!0,!0)}),v.bind(v.cursorh,"click",function(t){v.cancelEvent(t)}),v.bind(v.cursorh,"dblclick",function(t){v.cancelEvent(t)})))),b.cantouch||v.opt.touchbehavior?(v.bind(b.hasmousecapture?v.win:document,"mouseup",v.ontouchend),v.bind(document,"mousemove",v.ontouchmove),v.onclick&&v.bind(document,"click",v.onclick),v.opt.cursordragontouch&&(v.bind(v.cursor,"mousedown",v.onmousedown),v.bind(v.cursor,"mousemove",v.onmousemove),v.cursorh&&v.bind(v.cursorh,"mousedown",function(t){v.onmousedown(t,!0)}),v.cursorh&&v.bind(v.cursorh,"mousemove",v.onmousemove))):(v.bind(b.hasmousecapture?v.win:document,"mouseup",v.onmouseup),v.bind(document,"mousemove",v.onmousemove),v.onclick&&v.bind(document,"click",v.onclick),!v.ispage&&v.opt.enablescrollonselection&&(v.bind(v.win[0],"mousedown",v.onselectionstart),v.bind(document,"mouseup",v.onselectionend),v.bind(v.cursor,"mouseup",v.onselectionend),v.cursorh&&v.bind(v.cursorh,"mouseup",v.onselectionend),v.bind(document,"mousemove",v.onselectiondrag)),v.zoom&&(v.jqbind(v.zoom,"mouseenter",function(){v.canshowonmouseevent&&v.showCursor(),v.rail.active=!0}),v.jqbind(v.zoom,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}))),v.opt.enablemousewheel&&(v.isiframe||v.bind(b.isie&&v.ispage?document:v.win,"mousewheel",v.onmousewheel),v.bind(v.rail,"mousewheel",v.onmousewheel),v.railh&&v.bind(v.railh,"mousewheel",v.onmousewheelhr)),!v.ispage&&!b.cantouch&&!/HTML|^BODY/.test(v.win[0].nodeName)&&(v.win.attr("tabindex")||v.win.attr({tabindex:i++}),v.jqbind(v.win,"focus",function(t){e=v.getTarget(t).id||!0,v.hasfocus=!0,v.canshowonmouseevent&&v.noticeCursor()}),v.jqbind(v.win,"blur",function(){e=!1,v.hasfocus=!1}),v.jqbind(v.win,"mouseenter",function(t){o=v.getTarget(t).id||!0,v.hasmousefocus=!0,v.canshowonmouseevent&&v.noticeCursor()}),v.jqbind(v.win,"mouseleave",function(){o=!1,v.hasmousefocus=!1,v.rail.drag||v.hideCursor()}))}if(v.onkeypress=function(i){if(v.locked&&0==v.page.maxh)return!0;i=i?i:window.e;var n=v.getTarget(i);if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)&&(!n.getAttribute("type")&&!n.type||!/submit|button|cancel/i.tp)||t(n).attr("contenteditable"))return!0;if(v.hasfocus||v.hasmousefocus&&!e||v.ispage&&!e&&!o){if(n=i.keyCode,v.locked&&27!=n)return v.cancelEvent(i);var r=i.ctrlKey||!1,s=i.shiftKey||!1,a=!1;switch(n){case 38:case 63233:v.doScrollBy(72),a=!0;break;case 40:case 63235:v.doScrollBy(-72),a=!0;break;case 37:case 63232:v.railh&&(r?v.doScrollLeft(0):v.doScrollLeftBy(72),a=!0);break;case 39:case 63234:v.railh&&(r?v.doScrollLeft(v.page.maxw):v.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:v.doScrollBy(v.view.h),a=!0;break;case 34:case 63277:v.doScrollBy(-v.view.h),a=!0;break;case 36:case 63273:v.railh&&r?v.doScrollPos(0,0):v.doScrollTo(0),a=!0;break;case 35:case 63275:v.railh&&r?v.doScrollPos(v.page.maxw,v.page.maxh):v.doScrollTo(v.page.maxh),a=!0;break;case 32:v.opt.spacebarenabled&&(s?v.doScrollBy(v.view.h):v.doScrollBy(-v.view.h),a=!0);break;case 27:v.zoomactive&&(v.doZoom(),a=!0)}if(a)return v.cancelEvent(i)}},v.opt.enablekeyboard&&v.bind(document,b.isopera&&!b.isopera12?"keypress":"keydown",v.onkeypress),v.bind(document,"keydown",function(t){t.ctrlKey&&(v.wheelprevented=!0)}),v.bind(document,"keyup",function(t){t.ctrlKey||(v.wheelprevented=!1)}),v.bind(window,"resize",v.lazyResize),v.bind(window,"orientationchange",v.lazyResize),v.bind(window,"load",v.lazyResize),b.ischrome&&!v.ispage&&!v.haswrapper){var w=v.win.attr("style"),a=parseFloat(v.win.css("width"))+1;v.win.css("width",a),v.synched("chromefix",function(){v.win.attr("style",w)})}v.onAttributeChange=function(){v.lazyResize(250)},!v.ispage&&!v.haswrapper&&(!1!==h?(v.observer=new h(function(t){t.forEach(v.onAttributeChange)}),v.observer.observe(v.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),v.observerremover=new h(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(t.removedNodes[e]==v.win[0])return v.remove()})}),v.observerremover.observe(v.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(v.bind(v.win,b.isie&&!b.isie9?"propertychange":"DOMAttrModified",v.onAttributeChange),b.isie9&&v.win[0].attachEvent("onpropertychange",v.onAttributeChange),v.bind(v.win,"DOMNodeRemoved",function(t){t.target==v.win[0]&&v.remove()}))),!v.ispage&&v.opt.boxzoom&&v.bind(window,"resize",v.resizeZoom),v.istextarea&&v.bind(v.win,"mouseup",v.lazyResize),v.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var x=function(e){v.iframexd=!1;try{var o="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(i){v.iframexd=!0,o=!1}return v.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(v.forcescreen=!0,v.isiframe&&(v.iframe={doc:t(o),html:v.doc.contents().find("html")[0],body:v.doc.contents().find("body")[0]},v.getContentSize=function(){return{w:Math.max(v.iframe.html.scrollWidth,v.iframe.body.scrollWidth),h:Math.max(v.iframe.html.scrollHeight,v.iframe.body.scrollHeight)}},v.docscroll=t(v.iframe.body)),!b.isios&&v.opt.iframeautoresize&&!v.isiframe&&(v.win.scrollTop(0),v.doc.height(""),e=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight),v.doc.height(e)),v.lazyResize(30),b.isie7&&v.css(t(v.iframe.html),{"overflow-y":"hidden"}),v.css(t(v.iframe.body),{"overflow-y":"hidden"}),b.isios&&v.haswrapper&&v.css(t(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?v.bind(this.contentWindow,"scroll",v.onscroll):v.bind(o,"scroll",v.onscroll),v.opt.enablemousewheel&&v.bind(o,"mousewheel",v.onmousewheel),v.opt.enablekeyboard&&v.bind(o,b.isopera?"keypress":"keydown",v.onkeypress),(b.cantouch||v.opt.touchbehavior)&&(v.bind(o,"mousedown",v.ontouchstart),v.bind(o,"mousemove",function(t){v.ontouchmove(t,!0)}),v.opt.grabcursorenabled&&b.cursorgrabvalue&&v.css(t(o.body),{cursor:b.cursorgrabvalue})),v.bind(o,"mouseup",v.ontouchend),void(v.zoom&&(v.opt.dblclickzoom&&v.bind(o,"dblclick",v.doZoom),v.ongesturezoom&&v.bind(o,"gestureend",v.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){x.call(v.doc[0],!1)},500),v.bind(this.doc,"load",x)}},this.showCursor=function(t,e){v.cursortimeout&&(clearTimeout(v.cursortimeout),v.cursortimeout=0),v.rail&&(v.autohidedom&&(v.autohidedom.stop().css({opacity:v.opt.cursoropacitymax}),v.cursoractive=!0),v.rail.drag&&1==v.rail.drag.pt||("undefined"!=typeof t&&!1!==t&&(v.scroll.y=Math.round(1*t/v.scrollratio.y)),"undefined"!=typeof e&&(v.scroll.x=Math.round(1*e/v.scrollratio.x))),v.cursor.css({height:v.cursorheight,top:v.scroll.y}),v.cursorh&&(!v.rail.align&&v.rail.visibility?v.cursorh.css({width:v.cursorwidth,left:v.scroll.x+v.rail.width}):v.cursorh.css({width:v.cursorwidth,left:v.scroll.x}),v.cursoractive=!0),v.zoom&&v.zoom.stop().css({opacity:v.opt.cursoropacitymax}))},this.hideCursor=function(t){!v.cursortimeout&&v.rail&&v.autohidedom&&!(v.hasmousefocus&&"leave"==v.opt.autohidemode)&&(v.cursortimeout=setTimeout(function(){v.rail.active&&v.showonmouseevent||(v.autohidedom.stop().animate({opacity:v.opt.cursoropacitymin}),v.zoom&&v.zoom.stop().animate({opacity:v.opt.cursoropacitymin}),v.cursoractive=!1),v.cursortimeout=0},t||v.opt.hidecursordelay))},this.noticeCursor=function(t,e,o){v.showCursor(e,o),v.rail.active||v.hideCursor(t)},this.getContentSize=v.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:v.haswrapper?function(){return{w:v.doc.outerWidth()+parseInt(v.win.css("paddingLeft"))+parseInt(v.win.css("paddingRight")),h:v.doc.outerHeight()+parseInt(v.win.css("paddingTop"))+parseInt(v.win.css("paddingBottom"))}}:function(){return{w:v.docscroll[0].scrollWidth,h:v.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!v||!v.win)return!1;if(!v.haswrapper&&!v.ispage){if("none"==v.win.css("display"))return v.visibility&&v.hideRail().hideRailHr(),!1;!v.hidden&&!v.visibility&&v.showRail().showRailHr()}var o=v.page.maxh,i=v.page.maxw,n=v.view.w;if(v.view={w:v.ispage?v.win.width():parseInt(v.win[0].clientWidth),h:v.ispage?v.win.height():parseInt(v.win[0].clientHeight)},v.page=e?e:v.getContentSize(),v.page.maxh=Math.max(0,v.page.h-v.view.h),v.page.maxw=Math.max(0,v.page.w-v.view.w),v.page.maxh==o&&v.page.maxw==i&&v.view.w==n){if(v.ispage)return v;if(o=v.win.offset(),v.lastposition&&(i=v.lastposition,i.top==o.top&&i.left==o.left))return v;v.lastposition=o}return 0==v.page.maxh?(v.hideRail(),v.scrollvaluemax=0,v.scroll.y=0,v.scrollratio.y=0,v.cursorheight=0,v.setScrollTop(0),v.rail.scrollable=!1):v.rail.scrollable=!0,0==v.page.maxw?(v.hideRailHr(),v.scrollvaluemaxw=0,v.scroll.x=0,v.scrollratio.x=0,v.cursorwidth=0,v.setScrollLeft(0),v.railh.scrollable=!1):v.railh.scrollable=!0,v.locked=0==v.page.maxh&&0==v.page.maxw,v.locked?(v.ispage||v.updateScrollBar(v.view),!1):(v.hidden||v.visibility?!v.hidden&&!v.railh.visibility&&v.showRailHr():v.showRail().showRailHr(),v.istextarea&&v.win.css("resize")&&"none"!=v.win.css("resize")&&(v.view.h-=20),v.cursorheight=Math.min(v.view.h,Math.round(v.view.h*(v.view.h/v.page.h))),v.cursorheight=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorheight),v.cursorwidth=Math.min(v.view.w,Math.round(v.view.w*(v.view.w/v.page.w))),v.cursorwidth=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorwidth),v.scrollvaluemax=v.view.h-v.cursorheight-v.cursor.hborder,v.railh&&(v.railh.width=0<v.page.maxh?v.view.w-v.rail.width:v.view.w,v.scrollvaluemaxw=v.railh.width-v.cursorwidth-v.cursorh.wborder),v.ispage||v.updateScrollBar(v.view),v.scrollratio={x:v.page.maxw/v.scrollvaluemaxw,y:v.page.maxh/v.scrollvaluemax},v.getScrollTop()>v.page.maxh?v.doScrollTop(v.page.maxh):(v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x)),v.cursoractive&&v.noticeCursor()),v.scroll.y&&0==v.getScrollTop()&&v.doScrollTo(Math.floor(v.scroll.y*v.scrollratio.y)),v)},this.resize=v.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,v.delayed("resize",v.resize,t),v},this._bind=function(t,e,o,i){v.events.push({e:t,n:e,f:o,b:i,q:!1}),t.addEventListener?t.addEventListener(e,o,i||!1):t.attachEvent?t.attachEvent("on"+e,o):t["on"+e]=o},this.jqbind=function(e,o,i){v.events.push({e:e,n:o,f:i,q:!0}),t(e).bind(o,i)},this.bind=function(t,e,o,i){var n="jquery"in t?t[0]:t;"mousewheel"==e?"onwheel"in v.win?v._bind(n,"wheel",o,i||!1):(t="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",m(n,t,o,i||!1),"DOMMouseScroll"==t&&m(n,"MozMousePixelScroll",o,i||!1)):n.addEventListener?(b.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&v._bind(n,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,o.call(this,e)}}else t.changedTouches&&(e=t.changedTouches[0],e.original=t,o.call(this,e))},i||!1),v._bind(n,e,o,i||!1),b.cantouch&&"mouseup"==e&&v._bind(n,"touchcancel",o,i||!1)):v._bind(n,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1===o.call(n,t)||!1===i?v.cancelEvent(t):!0})},this._unbind=function(t,e,o,i){t.removeEventListener?t.removeEventListener(e,o,i):t.detachEvent?t.detachEvent("on"+e,o):t["on"+e]=!1},this.unbindAll=function(){for(var t=0;t<v.events.length;t++){var e=v.events[t];e.q?e.e.unbind(e.n,e.f):v._unbind(e.e,e.n,e.f,e.b)}},this.cancelEvent=function(t){return(t=t.original?t.original:t?t:window.event||!1)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1):!1},this.stopPropagation=function(t){return(t=t.original?t.original:t?t:window.event||!1)?t.stopPropagation?t.stopPropagation():(t.cancelBubble&&(t.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==v.page.maxh||!v.ispage&&"none"==v.win.css("display")||(v.visibility=!0,v.rail.visibility=!0,v.rail.css("display","block")),v},this.showRailHr=function(){return v.railh?(0==v.page.maxw||!v.ispage&&"none"==v.win.css("display")||(v.railh.visibility=!0,v.railh.css("display","block")),v):v},this.hideRail=function(){return v.visibility=!1,v.rail.visibility=!1,v.rail.css("display","none"),v},this.hideRailHr=function(){return v.railh?(v.railh.visibility=!1,v.railh.css("display","none"),v):v},this.show=function(){return v.hidden=!1,v.locked=!1,v.showRail().showRailHr()},this.hide=function(){return v.hidden=!0,v.locked=!0,v.hideRail().hideRailHr()},this.toggle=function(){return v.hidden?v.show():v.hide()},this.remove=function(){v.stop(),v.cursortimeout&&clearTimeout(v.cursortimeout),v.doZoomOut(),v.unbindAll(),b.isie9&&v.win[0].detachEvent("onpropertychange",v.onAttributeChange),!1!==v.observer&&v.observer.disconnect(),!1!==v.observerremover&&v.observerremover.disconnect(),v.events=null,v.cursor&&v.cursor.remove(),v.cursorh&&v.cursorh.remove(),v.rail&&v.rail.remove(),v.railh&&v.railh.remove(),v.zoom&&v.zoom.remove();for(var e=0;e<v.saved.css.length;e++){var o=v.saved.css[e];o[0].css(o[1],"undefined"==typeof o[2]?"":o[2])}v.saved=!1,v.me.data("__nicescroll","");var i=t.nicescroll;i.each(function(t){if(this&&this.id===v.id){delete i[t];for(var e=++t;e<i.length;e++,t++)i[t]=i[e];i.length--,i.length&&delete i[i.length]}});for(var n in v)v[n]=null,delete v[n];v=null},this.scrollstart=function(t){return this.onscrollstart=t,v},this.scrollend=function(t){return this.onscrollend=t,v},this.scrollcancel=function(t){return this.onscrollcancel=t,v},this.zoomin=function(t){return this.onzoomin=t,v},this.zoomout=function(t){return this.onzoomout=t,v},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var o=t(e),o=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(o))return e.clientHeight!=e.scrollHeight;e=e.parentNode?e.parentNode:!1}return!1},this.getViewport=function(e){for(e=e&&e.parentNode?e.parentNode:!1;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var o=t(e);if(/fixed|absolute/.test(o.css("position")))return o;var i=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(i)&&e.clientHeight!=e.scrollHeight||0<o.getNiceScroll().length)return o;e=e.parentNode?e.parentNode:!1}return e?t(e):!1},this.triggerScrollEnd=function(){if(v.onscrollend){var t=v.getScrollLeft(),e=v.getScrollTop();v.onscrollend.call(v,{type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}})}},this.onmousewheel=function(t){if(!v.wheelprevented){if(v.locked)return v.debounced("checkunlock",v.resize,250),!0;if(v.rail.drag)return v.cancelEvent(t);if("auto"==v.opt.oneaxismousemode&&0!=t.deltaX&&(v.opt.oneaxismousemode=!1),v.opt.oneaxismousemode&&0==t.deltaX&&!v.rail.scrollable)return v.railh&&v.railh.scrollable?v.onmousewheelhr(t):!0;var e=+new Date,o=!1;return v.opt.preservenativescrolling&&v.checkarea+600<e&&(v.nativescrollingarea=v.isScrollable(t),o=!0),v.checkarea=e,v.nativescrollingarea?!0:((t=g(t,!1,o))&&(v.checkarea=0),t)}},this.onmousewheelhr=function(t){if(!v.wheelprevented){if(v.locked||!v.railh.scrollable)return!0;if(v.rail.drag)return v.cancelEvent(t);var e=+new Date,o=!1;return v.opt.preservenativescrolling&&v.checkarea+600<e&&(v.nativescrollingarea=v.isScrollable(t),o=!0),v.checkarea=e,v.nativescrollingarea?!0:v.locked?v.cancelEvent(t):g(t,!0,o)}},this.stop=function(){return v.cancelScroll(),v.scrollmon&&v.scrollmon.stop(),v.cursorfreezed=!1,v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.noticeCursor(),v},this.getTransitionSpeed=function(t){var e=Math.round(10*v.opt.scrollspeed);return t=Math.min(e,Math.round(t/20*v.opt.scrollspeed)),t>20?t:0},v.opt.smoothscroll?v.ishwscroll&&b.hastransition&&v.opt.usetransition?(this.prepareTransition=function(t,e){var o=e?t>20?t:0:v.getTransitionSpeed(t),i=o?b.prefixstyle+"transform "+o+"ms ease-out":"";return v.lasttransitionstyle&&v.lasttransitionstyle==i||(v.lasttransitionstyle=i,v.doc.css(b.transitionstyle,i)),o},this.doScrollLeft=function(t,e){var o=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var i=v.getScrollTop(),n=v.getScrollLeft();return(0>(v.newscrolly-i)*(e-i)||0>(v.newscrollx-n)*(t-n))&&v.cancelScroll(),0==v.opt.bouncescroll&&(0>e?e=0:e>v.page.maxh&&(e=v.page.maxh),0>t?t=0:t>v.page.maxw&&(t=v.page.maxw)),v.scrollrunning&&t==v.newscrollx&&e==v.newscrolly?!1:(v.newscrolly=e,v.newscrollx=t,v.newscrollspeed=o||!1,v.timer?!1:void(v.timer=setTimeout(function(){var o,i,n=v.getScrollTop(),r=v.getScrollLeft();o=t-r,i=e-n,o=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2))),o=v.newscrollspeed&&1<v.newscrollspeed?v.newscrollspeed:v.getTransitionSpeed(o),v.newscrollspeed&&1>=v.newscrollspeed&&(o*=v.newscrollspeed),v.prepareTransition(o,!0),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),o>0&&(!v.scrollrunning&&v.onscrollstart&&v.onscrollstart.call(v,{type:"scrollstart",current:{x:r,y:n},request:{x:t,y:e},end:{x:v.newscrollx,y:v.newscrolly},speed:o}),b.transitionend?v.scrollendtrapped||(v.scrollendtrapped=!0,v.bind(v.doc,b.transitionend,v.onScrollTransitionEnd,!1)):(v.scrollendtrapped&&clearTimeout(v.scrollendtrapped),v.scrollendtrapped=setTimeout(v.onScrollTransitionEnd,o)),v.timerscroll={bz:new BezierClass(n,v.newscrolly,o,0,0,.58,1),bh:new BezierClass(r,v.newscrollx,o,0,0,.58,1)},v.cursorfreezed||(v.timerscroll.tm=setInterval(function(){v.showCursor(v.getScrollTop(),v.getScrollLeft())},60))),v.synched("doScroll-set",function(){v.timer=0,v.scrollendtrapped&&(v.scrollrunning=!0),v.setScrollTop(v.newscrolly),v.setScrollLeft(v.newscrollx),v.scrollendtrapped||v.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!v.scrollendtrapped)return!0;var t=v.getScrollTop(),e=v.getScrollLeft();return v.scrollrunning=!1,b.transitionend||clearTimeout(b.transitionend),v.scrollendtrapped=!1,v._unbind(v.doc,b.transitionend,v.onScrollTransitionEnd),v.prepareTransition(0),v.setScrollTop(t),v.railh&&v.setScrollLeft(e),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),v.timerscroll=!1,v.cursorfreezed=!1,v.showCursor(t,e),v},this.onScrollTransitionEnd=function(){v.scrollendtrapped&&v._unbind(v.doc,b.transitionend,v.onScrollTransitionEnd),v.scrollendtrapped=!1,v.prepareTransition(0),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),v.timerscroll=!1;var t=v.getScrollTop(),e=v.getScrollLeft();return v.setScrollTop(t),v.railh&&v.setScrollLeft(e),v.noticeCursor(!1,t,e),v.cursorfreezed=!1,0>t?t=0:t>v.page.maxh&&(t=v.page.maxh),0>e?e=0:e>v.page.maxw&&(e=v.page.maxw),t!=v.newscrolly||e!=v.newscrollx?v.doScrollPos(e,t,v.opt.snapbackspeed):(v.onscrollend&&v.scrollrunning&&v.triggerScrollEnd(),void(v.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var o=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){function i(){if(v.cancelAnimationFrame)return!0;if(v.scrollrunning=!0,h=1-h)return v.timer=a(i)||1;var t=0,e=sy=v.getScrollTop();if(v.dst.ay){var e=v.bzscroll?v.dst.py+v.bzscroll.getNow()*v.dst.ay:v.newscrolly,o=e-sy;(0>o&&e<v.newscrolly||o>0&&e>v.newscrolly)&&(e=v.newscrolly),v.setScrollTop(e),e==v.newscrolly&&(t=1)}else t=1;var n=sx=v.getScrollLeft();v.dst.ax?(n=v.bzscroll?v.dst.px+v.bzscroll.getNow()*v.dst.ax:v.newscrollx,o=n-sx,(0>o&&n<v.newscrollx||o>0&&n>v.newscrollx)&&(n=v.newscrollx),v.setScrollLeft(n),n==v.newscrollx&&(t+=1)):t+=1,2==t?(v.timer=0,v.cursorfreezed=!1,v.bzscroll=!1,v.scrollrunning=!1,0>e?e=0:e>v.page.maxh&&(e=v.page.maxh),0>n?n=0:n>v.page.maxw&&(n=v.page.maxw),n!=v.newscrollx||e!=v.newscrolly?v.doScrollPos(n,e):v.onscrollend&&v.triggerScrollEnd()):v.timer=a(i)||1}if(e="undefined"==typeof e||!1===e?v.getScrollTop(!0):e,v.timer&&v.newscrolly==e&&v.newscrollx==t)return!0;v.timer&&l(v.timer),v.timer=0;var n=v.getScrollTop(),r=v.getScrollLeft();(0>(v.newscrolly-n)*(e-n)||0>(v.newscrollx-r)*(t-r))&&v.cancelScroll(),v.newscrolly=e,v.newscrollx=t,v.bouncescroll&&v.rail.visibility||(0>v.newscrolly?v.newscrolly=0:v.newscrolly>v.page.maxh&&(v.newscrolly=v.page.maxh)),v.bouncescroll&&v.railh.visibility||(0>v.newscrollx?v.newscrollx=0:v.newscrollx>v.page.maxw&&(v.newscrollx=v.page.maxw)),v.dst={},v.dst.x=t-r,v.dst.y=e-n,v.dst.px=r,v.dst.py=n;var s=Math.round(Math.sqrt(Math.pow(v.dst.x,2)+Math.pow(v.dst.y,2)));v.dst.ax=v.dst.x/s,v.dst.ay=v.dst.y/s;var c=0,u=s;if(0==v.dst.x?(c=n,u=e,v.dst.ay=1,v.dst.py=0):0==v.dst.y&&(c=r,u=t,v.dst.ax=1,v.dst.px=0),s=v.getTransitionSpeed(s),o&&1>=o&&(s*=o),v.bzscroll=s>0?v.bzscroll?v.bzscroll.update(u,s):new BezierClass(c,u,s,0,1,0,1):!1,!v.timer){(n==v.page.maxh&&e>=v.page.maxh||r==v.page.maxw&&t>=v.page.maxw)&&v.checkContentSize();var h=1;v.cancelAnimationFrame=!1,v.timer=1,v.onscrollstart&&!v.scrollrunning&&v.onscrollstart.call(v,{type:"scrollstart",current:{x:r,y:n},request:{x:t,y:e},end:{x:v.newscrollx,y:v.newscrolly},speed:s}),i(),(n==v.page.maxh&&e>=n||r==v.page.maxw&&t>=r)&&v.checkContentSize(),v.noticeCursor()}},this.cancelScroll=function(){return v.timer&&l(v.timer),v.timer=0,v.bzscroll=!1,v.scrollrunning=!1,v}):(this.doScrollLeft=function(t,e){var o=v.getScrollTop();v.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=v.getScrollLeft();v.doScrollPos(o,t,e)},this.doScrollPos=function(t,e){var o=t>v.page.maxw?v.page.maxw:t;0>o&&(o=0);var i=e>v.page.maxh?v.page.maxh:e;0>i&&(i=0),v.synched("scroll",function(){v.setScrollTop(i),v.setScrollLeft(o)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var o=0,o=e?Math.floor((v.scroll.y-t)*v.scrollratio.y):(v.timer?v.newscrolly:v.getScrollTop(!0))-t;if(v.bouncescroll){var i=Math.round(v.view.h/2);-i>o?o=-i:o>v.page.maxh+i&&(o=v.page.maxh+i)}return v.cursorfreezed=!1,py=v.getScrollTop(!0),0>o&&0>=py?v.noticeCursor():o>v.page.maxh&&py>=v.page.maxh?(v.checkContentSize(),v.noticeCursor()):void v.doScrollTop(o)},this.doScrollLeftBy=function(t,e){var o=0,o=e?Math.floor((v.scroll.x-t)*v.scrollratio.x):(v.timer?v.newscrollx:v.getScrollLeft(!0))-t;if(v.bouncescroll){var i=Math.round(v.view.w/2);-i>o?o=-i:o>v.page.maxw+i&&(o=v.page.maxw+i)}return v.cursorfreezed=!1,px=v.getScrollLeft(!0),0>o&&0>=px||o>v.page.maxw&&px>=v.page.maxw?v.noticeCursor():void v.doScrollLeft(o)},this.doScrollTo=function(t,e){e&&Math.round(t*v.scrollratio.y),v.cursorfreezed=!1,v.doScrollTop(t)},this.checkContentSize=function(){var t=v.getContentSize();(t.h!=v.page.h||t.w!=v.page.w)&&v.resize(!1,t)},v.onscroll=function(){v.rail.drag||v.cursorfreezed||v.synched("scroll",function(){v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.railh&&(v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x))),v.noticeCursor()})},v.bind(v.docscroll,"scroll",v.onscroll),this.doZoomIn=function(e){if(!v.zoomactive){v.zoomactive=!0,v.zoomrestore={style:{}};var o,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),n=v.win[0].style;for(o in i){var s=i[o];v.zoomrestore.style[s]="undefined"!=typeof n[s]?n[s]:""}return v.zoomrestore.style.width=v.win.css("width"),
v.zoomrestore.style.height=v.win.css("height"),v.zoomrestore.padding={w:v.win.outerWidth()-v.win.width(),h:v.win.outerHeight()-v.win.height()},b.isios4&&(v.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),v.win.css({position:b.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),i=v.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&v.win.css("backgroundColor","#fff"),v.rail.css({"z-index":r+101}),v.zoom.css({"z-index":r+102}),v.zoom.css("backgroundPosition","0px -18px"),v.resizeZoom(),v.onzoomin&&v.onzoomin.call(v),v.cancelEvent(e)}},this.doZoomOut=function(e){return v.zoomactive?(v.zoomactive=!1,v.win.css("margin",""),v.win.css(v.zoomrestore.style),b.isios4&&t(window).scrollTop(v.zoomrestore.scrollTop),v.rail.css({"z-index":v.zindex}),v.zoom.css({"z-index":v.zindex}),v.zoomrestore=!1,v.zoom.css("backgroundPosition","0px 0px"),v.onResize(),v.onzoomout&&v.onzoomout.call(v),v.cancelEvent(e)):void 0},this.doZoom=function(t){return v.zoomactive?v.doZoomOut(t):v.doZoomIn(t)},this.resizeZoom=function(){if(v.zoomactive){var e=v.getScrollTop();v.win.css({width:t(window).width()-v.zoomrestore.padding.w+"px",height:t(window).height()-v.zoomrestore.padding.h+"px"}),v.onResize(),v.setScrollTop(Math.min(v.page.maxh,e))}},this.init(),t.nicescroll.push(this)},y=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,o){e.stop();var i=e.time();e.steptime=0,e.lasttime=i,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=o,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,o){var i=e.time();e.steptime=i-e.lasttime,e.lasttime=i;var i=o-e.lasty,n=t-e.lastx,r=e.nc.getScrollTop(),s=e.nc.getScrollLeft(),r=r+i,s=s+n;e.snapx=0>s||s>e.nc.page.maxw,e.snapy=0>r||r>e.nc.page.maxh,e.speedx=n,e.speedy=i,e.lastx=t,e.lasty=o},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,o){var i=!1;0>o?(o=0,i=!0):o>e.nc.page.maxh&&(o=e.nc.page.maxh,i=!0),0>t?(t=0,i=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,i=!0),i?e.nc.doScrollPos(t,o,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var o=e.time(),i=t?o+t:e.lasttime;t=e.nc.getScrollLeft();var n=e.nc.getScrollTop(),r=e.nc.page.maxh,s=e.nc.page.maxw;if(e.speedx=s>0?Math.min(60,e.speedx):0,e.speedy=r>0?Math.min(60,e.speedy):0,i=i&&60>=o-i,(0>n||n>r||0>t||t>s)&&(i=!1),t=e.speedx&&i?e.speedx:!1,e.speedy&&i&&e.speedy||t){var a=Math.max(16,e.steptime);a>50&&(t=a/50,e.speedx*=t,e.speedy*=t,a=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,c=e.lastscrolly,u=function(){var t=600<e.time()-o?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>s)&&(t=.1),e.speedy&&(c=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=c,0>c||c>r)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=c,e.nc.setScrollTop(c)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,c))}),1>e.demulxy?e.timer=setTimeout(u,a):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,c))};u()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},g=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,o){return(o=t.data(e,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollTop():g.call(e)},set:function(e,o){var i=t.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(o)):g.call(e,o),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var o=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollTop():g.call(this)}return this.each(function(){var o=t.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):g.call(t(this),e)})};var v=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,o){return(o=t.data(e,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollLeft():v.call(e)},set:function(e,o){var i=t.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(o)):v.call(e,o),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var o=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollLeft():v.call(this)}return this.each(function(){var o=t.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):v.call(t(this),e)})};var w=function(e){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,i=0;e<o.length;e++)t.call(o[e],i++);return o},this.push=function(t){o[o.length]=t,o.length++},this.eq=function(t){return o[t]},e)for(var i=0;i<e.length;i++){var n=t.data(e[i],"__nicescroll")||!1;n&&(this[this.length]=n,this.length++)}return this};!function(t,e,o){for(var i=0;i<e.length;i++)o(t,e[i])}(w.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return"undefined"==typeof e?new w(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return!!t.data(e,"__nicescroll")}}),t.fn.niceScroll=function(e,o){"undefined"==typeof o&&"object"==typeof e&&!("jquery"in e)&&(o=e,e=!1);var i=new w;"undefined"==typeof o&&(o={}),e&&(o.doc=t(e),o.win=t(this));var n=!("doc"in o);return!n&&!("win"in o)&&(o.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(o.doc=n?t(this):o.doc,e=new m(o,t(this)),t(this).data("__nicescroll",e)),i.push(e)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new w,t.nicescroll.options=d)}),function(t,e,o,i){var n=t(i),r="waypoint.reached",s=function(t,o){t.element.trigger(r,o),t.options.triggerOnce&&t.element[e]("destroy")},a=function(t,e){if(!e)return-1;for(var o=e.waypoints.length-1;o>=0&&e.waypoints[o].element[0]!==t[0];)o-=1;return o},l=[],c=function(e){t.extend(this,{element:t(e),oldScroll:0,waypoints:[],didScroll:!1,didResize:!1,doScroll:t.proxy(function(){var e=this.element.scrollTop(),i=e>this.oldScroll,n=this,r=t.grep(this.waypoints,function(t){return i?t.offset>n.oldScroll&&t.offset<=e:t.offset<=n.oldScroll&&t.offset>e}),a=r.length;this.oldScroll&&e||t[o]("refresh"),this.oldScroll=e,a&&(i||r.reverse(),t.each(r,function(t,e){(e.options.continuous||t===a-1)&&s(e,[i?"down":"up"])}))},this)}),t(e).bind("scroll.waypoints",t.proxy(function(){this.didScroll||(this.didScroll=!0,i.setTimeout(t.proxy(function(){this.doScroll(),this.didScroll=!1},this),t[o].settings.scrollThrottle))},this)).bind("resize.waypoints",t.proxy(function(){this.didResize||(this.didResize=!0,i.setTimeout(t.proxy(function(){t[o]("refresh"),this.didResize=!1},this),t[o].settings.resizeThrottle))},this)),n.load(t.proxy(function(){this.doScroll()},this))},u=function(e){var o=null;return t.each(l,function(t,i){return i.element[0]===e?(o=i,!1):void 0}),o},h={init:function(i,n){return this.each(function(){var s,h=t.fn[e].defaults.context,d=t(this);n&&n.context&&(h=n.context),t.isWindow(h)||(h=d.closest(h)[0]),s=u(h),s||(s=new c(h),l.push(s));var p=a(d,s),f=0>p?t.fn[e].defaults:s.waypoints[p].options,m=t.extend({},f,n);m.offset="bottom-in-view"===m.offset?function(){var e=t.isWindow(h)?t[o]("viewportHeight"):t(h).height();return e-t(this).outerHeight()}:m.offset,0>p?s.waypoints.push({element:d,offset:null,options:m}):s.waypoints[p].options=m,i&&d.bind(r,i),n&&n.handler&&d.bind(r,n.handler)}),t[o]("refresh"),this},remove:function(){return this.each(function(e,o){var i=t(o);t.each(l,function(t,e){var o=a(i,e);o>=0&&(e.waypoints.splice(o,1),e.waypoints.length||(e.element.unbind("scroll.waypoints resize.waypoints"),l.splice(t,1)))})})},destroy:function(){return this.unbind(r)[e]("remove")}},d={refresh:function(){t.each(l,function(e,i){var n=t.isWindow(i.element[0]),r=n?0:i.element.offset().top,a=n?t[o]("viewportHeight"):i.element.height(),l=n?0:i.element.scrollTop();t.each(i.waypoints,function(t,e){if(e){var o=e.options.offset,n=e.offset;if("function"==typeof e.options.offset)o=e.options.offset.apply(e.element);else if("string"==typeof e.options.offset){var c=parseFloat(e.options.offset);o=e.options.offset.indexOf("%")?Math.ceil(a*(c/100)):c}e.offset=e.element.offset().top-r+l-o,e.options.onlyOnScroll||(null!==n&&i.oldScroll>n&&i.oldScroll<=e.offset?s(e,["up"]):null!==n&&i.oldScroll<n&&i.oldScroll>=e.offset?s(e,["down"]):!n&&i.element.scrollTop()>e.offset&&s(e,["down"]))}}),i.waypoints.sort(function(t,e){return t.offset-e.offset})})},viewportHeight:function(){return i.innerHeight?i.innerHeight:n.height()},aggregate:function(){var e=t();return t.each(l,function(o,i){t.each(i.waypoints,function(t,o){e=e.add(o.element)})}),e}};t.fn[e]=function(o){return h[o]?h[o].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof o&&o?"object"==typeof o?h.init.apply(this,[null,o]):void t.error("Method "+o+" does not exist on jQuery "+e):h.init.apply(this,arguments)},t.fn[e].defaults={continuous:!0,offset:0,triggerOnce:!1,context:i},t[o]=function(t){return d[t]?d[t].apply(this):d.aggregate()},t[o].settings={resizeThrottle:200,scrollThrottle:100},n.load(function(){t[o]("refresh")})}(jQuery,"waypoint","waypoints",window)(function(t){function e(){}function o(t){function o(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,o){t.fn[e]=function(n){if("string"==typeof n){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[n])&&"_"!==n.charAt(0)){var h=u[n].apply(u,s);if(void 0!==h)return h}else r("no such method '"+n+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(n),i._init()):(i=new o(this,n),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){o(e),n(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],o):o("object"==typeof exports?require("jquery"):t.jQuery)})(window),function(t){function e(e){var o=t.event;return o.target=o.target||o.srcElement||e,o}var o=document.documentElement,i=function(){};o.addEventListener?i=function(t,e,o){t.addEventListener(e,o,!1)}:o.attachEvent&&(i=function(t,o,i){t[o+i]=i.handleEvent?function(){var o=e(t);i.handleEvent.call(i,o)}:function(){var o=e(t);i.call(t,o)},t.attachEvent("on"+o,t[o+i])});var n=function(){};o.removeEventListener?n=function(t,e,o){t.removeEventListener(e,o,!1)}:o.detachEvent&&(n=function(t,e,o){t.detachEvent("on"+e,t[e+o]);try{delete t[e+o]}catch(i){t[e+o]=void 0}});var r={bind:i,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function o(t){var o="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||o||i()}function i(){e.isReady=!0;for(var t=0,o=s.length;o>t;t++){var i=s[t];i()}}function n(n){return"complete"===r.readyState?i():(n.bind(r,"DOMContentLoaded",o),n.bind(r,"readystatechange",o),n.bind(t,"load",o)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],n):"object"==typeof exports?module.exports=n(require("eventie")):t.docReady=n(t.eventie)}(window),function(){function t(){}function e(t,e){for(var o=t.length;o--;)if(t[o].listener===e)return o;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,n=this,r=n.EventEmitter;i.getListeners=function(t){var e,o,i=this._getEvents();if(t instanceof RegExp){e={};for(o in i)i.hasOwnProperty(o)&&t.test(o)&&(e[o]=i[o])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,o=[];for(e=0;t.length>e;e+=1)o.push(t[e].listener);return o},i.getListenersAsObject=function(t){var e,o=this.getListeners(t);return o instanceof Array&&(e={},e[t]=o),e||o},i.addListener=function(t,o){var i,n=this.getListenersAsObject(t),r="object"==typeof o;for(i in n)n.hasOwnProperty(i)&&-1===e(n[i],o)&&n[i].push(r?o:{listener:o,once:!1});return this},i.on=o("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=o("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,o){var i,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&(i=e(r[n],o),-1!==i&&r[n].splice(i,1));return this},i.off=o("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,o){var i,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=o.length;i--;)r.call(this,e,o[i]);else for(i in e)e.hasOwnProperty(i)&&(n=e[i])&&("function"==typeof n?r.call(this,i,n):s.call(this,i,n));return this},i.removeEvent=function(t){var e,o=typeof t,i=this._getEvents();if("string"===o)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=o("removeEvent"),i.emitEvent=function(t,e){var o,i,n,r,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(i=s[n].length;i--;)o=s[n][i],o.once===!0&&this.removeListener(t,o.listener),r=o.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,o.listener);return this},i.trigger=o("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,r=o.length;r>n;n++)if(e=o[n]+t,"string"==typeof i[e])return e}}var o="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),o=-1===t.indexOf("%")&&!isNaN(e);return o&&e}function o(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,o=s.length;o>e;e++){var i=s[e];t[i]=0}return t}function n(o){function n(){if(!d){d=!0;var i=t.getComputedStyle;if(c=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){var o=t(e);return o||r("Style returned "+o+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),o}}(),u=o("boxSizing")){var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style[u]="border-box";var s=document.body||document.documentElement;s.appendChild(n);var a=c(n);h=200===e(a.width),s.removeChild(n)}}}function a(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=c(t);if("none"===o.display)return i();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var a=r.isBorderBox=!(!u||!o[u]||"border-box"!==o[u]),d=0,p=s.length;p>d;d++){var f=s[d],m=o[f];m=l(t,m);var y=parseFloat(m);r[f]=isNaN(y)?0:y}var g=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,w=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,S=r.borderTopWidth+r.borderBottomWidth,z=a&&h,_=e(o.width);_!==!1&&(r.width=_+(z?0:g+x));var I=e(o.height);return I!==!1&&(r.height=I+(z?0:v+S)),r.innerWidth=r.width-(g+x),r.innerHeight=r.height-(v+S),r.outerWidth=r.width+w,r.outerHeight=r.height+b,r}}function l(e,o){if(t.getComputedStyle||-1===o.indexOf("%"))return o;var i=e.style,n=i.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),i.left=o,o=i.pixelLeft,i.left=n,s&&(r.left=s),o}var c,u,h,d=!1;return a}var r="undefined"==typeof console?o:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("desandro-get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t){function e(t,e){return t[s](e)}function o(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function i(t,e){o(t);for(var i=t.parentNode.querySelectorAll(e),n=0,r=i.length;r>n;n++)if(i[n]===t)return!0;return!1}function n(t,i){return o(t),e(t,i)}var r,s=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],o=0,i=e.length;i>o;o++){var n=e[o],r=n+"MatchesSelector";if(t[r])return r}}();if(s){var a=document.createElement("div"),l=e(a,"div");r=l?e:n}else r=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t){for(var e in t)return!1;return e=null,!0}function i(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function n(t,n,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=r("transition"),c=r("transform"),u=l&&c,h=!!r("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,o=p.length;o>e;e++){var i=p[e],n=r(i);n&&n!==i&&(t[i]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var o in t){var i=f[o]||o;e[i]=t[o]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,o=e.isOriginLeft,i=e.isOriginTop,n=parseInt(t[o?"left":"right"],10),r=parseInt(t[i?"top":"bottom"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var a=this.layout.size;n-=o?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,o={};e.isOriginLeft?(o.left=this.position.x+t.paddingLeft+"px",o.right=""):(o.right=this.position.x+t.paddingRight+"px",o.left=""),e.isOriginTop?(o.top=this.position.y+t.paddingTop+"px",o.bottom=""):(o.bottom=this.position.y+t.paddingBottom+"px",o.top=""),this.css(o),this.emitEvent("layout",[this])};var m=h?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var o=this.position.x,i=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-o,l=e-i,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=m(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=u?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var o in t.onTransitionEnd)e.onEnd[o]=t.onTransitionEnd[o];for(o in t.to)e.ingProperties[o]=!0,t.isCleaning&&(e.clean[o]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var y=c&&i(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:y,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=g[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],o(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var n=e.onEnd[i];n.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var o in t)e[o]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t){return"[object Array]"===h.call(t)}function i(t){var e=[];if(o(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function n(t,e){var o=p(e,t);-1!==o&&e.splice(o,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,o){return e+"-"+o}).toLowerCase()}function s(o,s,h,p,f,m){function y(t,o){if("string"==typeof t&&(t=a.querySelector(t)),!t||!d(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(o);var i=++g;this.element.outlayerGUID=i,v[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,v={};return y.namespace="outlayer",y.Item=m,y.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(y.prototype,h.prototype),y.prototype.option=function(t){e(this.options,t)},y.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},y.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},y.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),o=this.constructor.Item,i=[],n=0,r=e.length;r>n;n++){var s=e[n],a=new o(s,this);i.push(a)}return i},y.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,o=[],n=0,r=t.length;r>n;n++){var s=t[n];if(d(s))if(e){f(s,e)&&o.push(s);for(var a=s.querySelectorAll(e),l=0,c=a.length;c>l;l++)o.push(a[l])}else o.push(s)}return o},y.prototype.getItemElements=function(){for(var t=[],e=0,o=this.items.length;o>e;e++)t.push(this.items[e].element);return t},y.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},y.prototype._init=y.prototype.layout,y.prototype._resetLayout=function(){this.getSize()},y.prototype.getSize=function(){this.size=p(this.element)},y.prototype._getMeasurement=function(t,e){var o,i=this.options[t];i?("string"==typeof i?o=this.element.querySelector(i):d(i)&&(o=i),this[t]=o?p(o)[e]:i):this[t]=0},y.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},y.prototype._getItemsForLayout=function(t){for(var e=[],o=0,i=t.length;i>o;o++){var n=t[o];n.isIgnored||e.push(n)}return e},y.prototype._layoutItems=function(t,e){function o(){i.emitEvent("layoutComplete",[i,t])}var i=this;if(!t||!t.length)return void o();this._itemsOn(t,"layout",o);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)},y.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},y.prototype._processLayoutQueue=function(t){for(var e=0,o=t.length;o>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},y.prototype._positionItem=function(t,e,o,i){i?t.goTo(e,o):t.moveTo(e,o)},y.prototype._postLayout=function(){this.resizeContainer()},y.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},y.prototype._getContainerSize=u,y.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var o=this.size;o.isBorderBox&&(t+=e?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},y.prototype._itemsOn=function(t,e,o){function i(){return n++,n===r&&o.call(s),!0}for(var n=0,r=t.length,s=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,i)}},y.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},y.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},y.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,o=t.length;o>e;e++){var i=t[e];this.ignore(i)}}},y.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,o=t.length;o>e;e++){var i=t[e];n(i,this.stamps),this.unignore(i)}},y.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},y.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var o=this.stamps[t];this._manageStamp(o)}}},y.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},y.prototype._manageStamp=u,y.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),o=this._boundingRect,i=p(t),n={left:e.left-o.left-i.marginLeft,top:e.top-o.top-i.marginTop,right:o.right-e.right-i.marginRight,bottom:o.bottom-e.bottom-i.marginBottom};return n},y.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},y.prototype.bindResize=function(){this.isResizeBound||(o.bind(t,"resize",this),this.isResizeBound=!0)},y.prototype.unbindResize=function(){this.isResizeBound&&o.unbind(t,"resize",this),this.isResizeBound=!1},y.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},y.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},y.prototype.needsResizeLayout=function(){var t=p(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},y.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},y.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},y.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var o=this.items.slice(0);this.items=e.concat(o),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(o)}},y.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var o=0;e>o;o++){var i=t[o];i.reveal()}},y.prototype.hide=function(t){var e=t&&t.length;if(e)for(var o=0;e>o;o++){var i=t[o];i.hide()}},y.prototype.getItem=function(t){for(var e=0,o=this.items.length;o>e;e++){var i=this.items[e];if(i.element===t)return i}},y.prototype.getItems=function(t){if(t&&t.length){for(var e=[],o=0,i=t.length;i>o;o++){var n=t[o],r=this.getItem(n);r&&e.push(r)}return e}},y.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var o=0,r=e.length;r>o;o++){var s=e[o];s.remove(),n(s,this.items)}}},y.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,o=this.items.length;o>e;e++){var i=this.items[e];i.destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete v[n],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},y.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},y.create=function(t,o){function i(){y.apply(this,arguments)}return Object.create?i.prototype=Object.create(y.prototype):e(i.prototype,y.prototype),i.prototype.constructor=i,i.defaults=e({},y.defaults),e(i.defaults,o),i.prototype.settings={},i.namespace=t,i.data=y.data,i.Item=function(){m.apply(this,arguments)},i.Item.prototype=new m,s(function(){for(var e=r(t),o=a.querySelectorAll(".js-"+e),n="data-"+e+"-options",s=0,u=o.length;u>s;s++){var h,d=o[s],p=d.getAttribute(n);try{h=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+n+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+f);
continue}var m=new i(d,h);c&&c.data(d,t,m)}}),c&&c.bridget&&c.bridget(t,i),i},y.Item=m,y}var a=t.document,l=t.console,c=t.jQuery,u=function(){},h=Object.prototype.toString,d="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;i>o;o++)if(t[o]===e)return o;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):"object"==typeof exports?module.exports=s(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var o in t){var i=e[o];this.sortData[o]=i(this.element,this)}}};var o=e.prototype.destroy;return e.prototype.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function o(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var i=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,r=i.length;r>n;n++){var s=i[n];o.prototype[s]=t(s)}}(),o.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),o=this.isotope.size&&e;return o&&e.innerHeight!==this.isotope.size.innerHeight},o.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},o.prototype.getSegmentSize=function(t,e){var o=t+e,i="outer"+e;if(this._getMeasurement(o,i),!this[o]){var n=this.getFirstItemSize();this[o]=n&&n[i]||this.isotope.size["inner"+e]}},o.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},o.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},o.modes={},o.create=function(t,e){function i(){o.apply(this,arguments)}return i.prototype=new o,e&&(i.options=e),i.prototype.namespace=t,o.modes[t]=i,i},o}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],o=t&&t.element;this.columnWidth=o&&e(o).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,o=e(t);this.containerWidth=o&&o.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),s=Math.min.apply(Math,r),a=o(r,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,u=this.cols+1-r.length,h=0;u>h;h++)this.colYs[a+h]=c;return l},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],o=this.cols+1-t,i=0;o>i;i++){var n=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,n)}return e},i.prototype._manageStamp=function(t){var o=e(t),i=this._getElementOffset(t),n=this.options.isOriginLeft?i.left:i.right,r=n+o.outerWidth,s=Math.floor(n/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?i.top:i.bottom)+o.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}var o=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;i>o;o++){var n=t[o];if(n===e)return o}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t,o){var i=t.create("masonry"),n=i.prototype._getElementOffset,r=i.prototype.layout,s=i.prototype._getMeasurement;e(i.prototype,o.prototype),i.prototype._getElementOffset=n,i.prototype.layout=r,i.prototype._getMeasurement=s;var a=i.prototype.measureColumns;i.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=i.prototype._manageStamp;return i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},i}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],o):"object"==typeof exports?module.exports=o(require("../layout-mode"),require("masonry-layout")):o(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,o=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>o&&(this.x=0,this.y=this.maxY);var i={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,o=this.y;return this.y+=t.size.outerHeight,{x:e,y:o}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t){return"[object Array]"===u.call(t)}function i(t){var e=[];if(o(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function n(t,e){var o=h(e,t);-1!==o&&e.splice(o,1)}function r(t,o,r,l,u){function h(t,e){return function(o,i){for(var n=0,r=t.length;r>n;n++){var s=t[n],a=o.sortData[s],l=i.sortData[s];if(a>l||l>a){var c=void 0!==e[s]?e[s]:e,u=c?1:-1;return(a>l?1:-1)*u}}return 0}}var d=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=l,d.LayoutMode=u,d.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in u.modes)this._initLayoutMode(e)},d.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},d.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),o=0,i=e.length;i>o;o++){var n=e[o];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},d.prototype._initLayoutMode=function(t){var o=u.modes[t],i=this.options[t]||{};this.options[t]=o.options?e(o.options,i):i,this.modes[t]=new o(this)},d.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},d.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},d.prototype.arrange=function(t){function e(){i.reveal(o.needReveal),i.hide(o.needHide)}this.option(t),this._getIsInstant();var o=this._filter(this.items);this.filteredItems=o.matches;var i=this;this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},d.prototype._init=d.prototype.arrange,d.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},d.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var o=[],i=[],n=[],r=this._getFilterTest(e),s=0,a=t.length;a>s;s++){var l=t[s];if(!l.isIgnored){var c=r(l);c&&o.push(l),c&&l.isHidden?i.push(l):c||l.isHidden||n.push(l)}}return{matches:o,needReveal:i,needHide:n}},d.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},d.prototype.updateSortData=function(t){var e;t?(t=i(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},d.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var o=t[e];this._sorters[e]=p(o)}},d.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,o=0;e&&e>o;o++){var i=t[o];i.updateSortData()}};var p=function(){function t(t){if("string"!=typeof t)return t;var o=a(t).split(" "),i=o[0],n=i.match(/^\[(.+)\]$/),r=n&&n[1],s=e(r,i),l=d.sortDataParsers[o[1]];return t=l?function(t){return t&&l(s(t))}:function(t){return t&&s(t)}}function e(t,e){var o;return o=t?function(e){return e.getAttribute(t)}:function(t){var o=t.querySelector(e);return o&&c(o)}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},d.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),o=h(e,this.options.sortAscending);this.filteredItems.sort(o),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},d.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},d.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},d.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},d.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},d.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},d.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var o=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(o)}},d.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=o.concat(this.filteredItems),this.items=e.concat(this.items)}},d.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},d.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var o,i,n=e.length;for(o=0;n>o;o++)i=e[o],this.element.appendChild(i.element);var r=this._filter(e).matches;for(o=0;n>o;o++)e[o].isLayoutInstant=!0;for(this.arrange(),o=0;n>o;o++)delete e[o].isLayoutInstant;this.reveal(r)}};var f=d.prototype.remove;return d.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(f.call(this,t),e&&e.length)for(var o=0,r=e.length;r>o;o++){var s=e[o];n(s,this.filteredItems)}},d.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){var o=this.items[t];o.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},d.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var o=t.call(this);return this.options.transitionDuration=e,o},d.prototype.getFilteredItemElements=function(){for(var t=[],e=0,o=this.filteredItems.length;o>e;e++)t.push(this.filteredItems[e].element);return t},d}var s=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},l=document.documentElement,c=l.textContent?function(t){return t.textContent}:function(t){return t.innerText},u=Object.prototype.toString,h=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;i>o;o++)if(t[o]===e)return o;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],r):"object"==typeof exports?module.exports=r(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=r(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window),function(t){function e(){}function o(t){function o(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,o){t.fn[e]=function(n){if("string"==typeof n){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[n])&&"_"!==n.charAt(0)){var h=u[n].apply(u,s);if(void 0!==h)return h}else r("no such method '"+n+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(n),i._init()):(i=new o(this,n),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){o(e),n(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],o):o("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var o=t.event;return o.target=o.target||o.srcElement||e,o}var o=document.documentElement,i=function(){};o.addEventListener?i=function(t,e,o){t.addEventListener(e,o,!1)}:o.attachEvent&&(i=function(t,o,i){t[o+i]=i.handleEvent?function(){var o=e(t);i.handleEvent.call(i,o)}:function(){var o=e(t);i.call(t,o)},t.attachEvent("on"+o,t[o+i])});var n=function(){};o.removeEventListener?n=function(t,e,o){t.removeEventListener(e,o,!1)}:o.detachEvent&&(n=function(t,e,o){t.detachEvent("on"+e,t[e+o]);try{delete t[e+o]}catch(i){t[e+o]=void 0}});var r={bind:i,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function o(t){var o="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||o||i()}function i(){e.isReady=!0;for(var t=0,o=s.length;o>t;t++){var i=s[t];i()}}function n(n){return"complete"===r.readyState?i():(n.bind(r,"DOMContentLoaded",o),n.bind(r,"readystatechange",o),n.bind(t,"load",o)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],n):"object"==typeof exports?module.exports=n(require("eventie")):t.docReady=n(t.eventie)}(window),function(){function t(){}function e(t,e){for(var o=t.length;o--;)if(t[o].listener===e)return o;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,n=this,r=n.EventEmitter;i.getListeners=function(t){var e,o,i=this._getEvents();if(t instanceof RegExp){e={};for(o in i)i.hasOwnProperty(o)&&t.test(o)&&(e[o]=i[o])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,o=[];for(e=0;t.length>e;e+=1)o.push(t[e].listener);return o},i.getListenersAsObject=function(t){var e,o=this.getListeners(t);return o instanceof Array&&(e={},e[t]=o),e||o},i.addListener=function(t,o){var i,n=this.getListenersAsObject(t),r="object"==typeof o;for(i in n)n.hasOwnProperty(i)&&-1===e(n[i],o)&&n[i].push(r?o:{listener:o,once:!1});return this},i.on=o("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=o("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,o){var i,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&(i=e(r[n],o),-1!==i&&r[n].splice(i,1));return this},i.off=o("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,o){var i,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=o.length;i--;)r.call(this,e,o[i]);else for(i in e)e.hasOwnProperty(i)&&(n=e[i])&&("function"==typeof n?r.call(this,i,n):s.call(this,i,n));return this},i.removeEvent=function(t){var e,o=typeof t,i=this._getEvents();if("string"===o)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=o("removeEvent"),i.emitEvent=function(t,e){var o,i,n,r,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(i=s[n].length;i--;)o=s[n][i],o.once===!0&&this.removeListener(t,o.listener),r=o.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,o.listener);return this},i.trigger=o("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,r=o.length;r>n;n++)if(e=o[n]+t,"string"==typeof i[e])return e}}var o="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),o=-1===t.indexOf("%")&&!isNaN(e);return o&&e}function o(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,o=s.length;o>e;e++){var i=s[e];t[i]=0}return t}function n(o){function n(){if(!d){d=!0;var i=t.getComputedStyle;if(c=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){var o=t(e);return o||r("Style returned "+o+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),o}}(),u=o("boxSizing")){var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style[u]="border-box";var s=document.body||document.documentElement;s.appendChild(n);var a=c(n);h=200===e(a.width),s.removeChild(n)}}}function a(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=c(t);if("none"===o.display)return i();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var a=r.isBorderBox=!(!u||!o[u]||"border-box"!==o[u]),d=0,p=s.length;p>d;d++){var f=s[d],m=o[f];m=l(t,m);var y=parseFloat(m);r[f]=isNaN(y)?0:y}var g=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,w=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,S=r.borderTopWidth+r.borderBottomWidth,z=a&&h,_=e(o.width);_!==!1&&(r.width=_+(z?0:g+x));var I=e(o.height);return I!==!1&&(r.height=I+(z?0:v+S)),r.innerWidth=r.width-(g+x),r.innerHeight=r.height-(v+S),r.outerWidth=r.width+w,r.outerHeight=r.height+b,r}}function l(e,o){if(t.getComputedStyle||-1===o.indexOf("%"))return o;var i=e.style,n=i.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),i.left=o,o=i.pixelLeft,i.left=n,s&&(r.left=s),o}var c,u,h,d=!1;return a}var r="undefined"==typeof console?o:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("desandro-get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t){function e(t,e){return t[s](e)}function o(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function i(t,e){o(t);for(var i=t.parentNode.querySelectorAll(e),n=0,r=i.length;r>n;n++)if(i[n]===t)return!0;return!1}function n(t,i){return o(t),e(t,i)}var r,s=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],o=0,i=e.length;i>o;o++){var n=e[o],r=n+"MatchesSelector";if(t[r])return r}}();if(s){var a=document.createElement("div"),l=e(a,"div");r=l?e:n}else r=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t){for(var e in t)return!1;return e=null,!0}function i(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function n(t,n,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=r("transition"),c=r("transform"),u=l&&c,h=!!r("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,o=p.length;o>e;e++){var i=p[e],n=r(i);n&&n!==i&&(t[i]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var o in t){var i=f[o]||o;e[i]=t[o]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,o=e.isOriginLeft,i=e.isOriginTop,n=parseInt(t[o?"left":"right"],10),r=parseInt(t[i?"top":"bottom"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var a=this.layout.size;n-=o?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,o={};e.isOriginLeft?(o.left=this.position.x+t.paddingLeft+"px",o.right=""):(o.right=this.position.x+t.paddingRight+"px",o.left=""),e.isOriginTop?(o.top=this.position.y+t.paddingTop+"px",o.bottom=""):(o.bottom=this.position.y+t.paddingBottom+"px",o.top=""),this.css(o),this.emitEvent("layout",[this])};var m=h?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var o=this.position.x,i=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-o,l=e-i,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=m(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=u?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var o in t.onTransitionEnd)e.onEnd[o]=t.onTransitionEnd[o];for(o in t.to)e.ingProperties[o]=!0,t.isCleaning&&(e.clean[o]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var y=c&&i(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:y,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=g[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],o(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var n=e.onEnd[i];n.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var o in t)e[o]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t){return"[object Array]"===h.call(t)}function i(t){var e=[];if(o(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function n(t,e){var o=p(e,t);-1!==o&&e.splice(o,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,o){return e+"-"+o}).toLowerCase()}function s(o,s,h,p,f,m){function y(t,o){if("string"==typeof t&&(t=a.querySelector(t)),!t||!d(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(o);var i=++g;this.element.outlayerGUID=i,v[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,v={};return y.namespace="outlayer",y.Item=m,y.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(y.prototype,h.prototype),y.prototype.option=function(t){e(this.options,t)},y.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},y.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},y.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),o=this.constructor.Item,i=[],n=0,r=e.length;r>n;n++){var s=e[n],a=new o(s,this);i.push(a)}return i},y.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,o=[],n=0,r=t.length;r>n;n++){var s=t[n];if(d(s))if(e){f(s,e)&&o.push(s);for(var a=s.querySelectorAll(e),l=0,c=a.length;c>l;l++)o.push(a[l])}else o.push(s)}return o},y.prototype.getItemElements=function(){for(var t=[],e=0,o=this.items.length;o>e;e++)t.push(this.items[e].element);return t},y.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},y.prototype._init=y.prototype.layout,y.prototype._resetLayout=function(){this.getSize()},y.prototype.getSize=function(){this.size=p(this.element)},y.prototype._getMeasurement=function(t,e){var o,i=this.options[t];i?("string"==typeof i?o=this.element.querySelector(i):d(i)&&(o=i),this[t]=o?p(o)[e]:i):this[t]=0},y.prototype.layoutItems=function(t,e){
t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},y.prototype._getItemsForLayout=function(t){for(var e=[],o=0,i=t.length;i>o;o++){var n=t[o];n.isIgnored||e.push(n)}return e},y.prototype._layoutItems=function(t,e){function o(){i.emitEvent("layoutComplete",[i,t])}var i=this;if(!t||!t.length)return void o();this._itemsOn(t,"layout",o);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)},y.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},y.prototype._processLayoutQueue=function(t){for(var e=0,o=t.length;o>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},y.prototype._positionItem=function(t,e,o,i){i?t.goTo(e,o):t.moveTo(e,o)},y.prototype._postLayout=function(){this.resizeContainer()},y.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},y.prototype._getContainerSize=u,y.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var o=this.size;o.isBorderBox&&(t+=e?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},y.prototype._itemsOn=function(t,e,o){function i(){return n++,n===r&&o.call(s),!0}for(var n=0,r=t.length,s=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,i)}},y.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},y.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},y.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,o=t.length;o>e;e++){var i=t[e];this.ignore(i)}}},y.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,o=t.length;o>e;e++){var i=t[e];n(i,this.stamps),this.unignore(i)}},y.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},y.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var o=this.stamps[t];this._manageStamp(o)}}},y.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},y.prototype._manageStamp=u,y.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),o=this._boundingRect,i=p(t),n={left:e.left-o.left-i.marginLeft,top:e.top-o.top-i.marginTop,right:o.right-e.right-i.marginRight,bottom:o.bottom-e.bottom-i.marginBottom};return n},y.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},y.prototype.bindResize=function(){this.isResizeBound||(o.bind(t,"resize",this),this.isResizeBound=!0)},y.prototype.unbindResize=function(){this.isResizeBound&&o.unbind(t,"resize",this),this.isResizeBound=!1},y.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},y.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},y.prototype.needsResizeLayout=function(){var t=p(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},y.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},y.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},y.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var o=this.items.slice(0);this.items=e.concat(o),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(o)}},y.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var o=0;e>o;o++){var i=t[o];i.reveal()}},y.prototype.hide=function(t){var e=t&&t.length;if(e)for(var o=0;e>o;o++){var i=t[o];i.hide()}},y.prototype.getItem=function(t){for(var e=0,o=this.items.length;o>e;e++){var i=this.items[e];if(i.element===t)return i}},y.prototype.getItems=function(t){if(t&&t.length){for(var e=[],o=0,i=t.length;i>o;o++){var n=t[o],r=this.getItem(n);r&&e.push(r)}return e}},y.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var o=0,r=e.length;r>o;o++){var s=e[o];s.remove(),n(s,this.items)}}},y.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,o=this.items.length;o>e;e++){var i=this.items[e];i.destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete v[n],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},y.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},y.create=function(t,o){function i(){y.apply(this,arguments)}return Object.create?i.prototype=Object.create(y.prototype):e(i.prototype,y.prototype),i.prototype.constructor=i,i.defaults=e({},y.defaults),e(i.defaults,o),i.prototype.settings={},i.namespace=t,i.data=y.data,i.Item=function(){m.apply(this,arguments)},i.Item.prototype=new m,s(function(){for(var e=r(t),o=a.querySelectorAll(".js-"+e),n="data-"+e+"-options",s=0,u=o.length;u>s;s++){var h,d=o[s],p=d.getAttribute(n);try{h=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+n+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+f);continue}var m=new i(d,h);c&&c.data(d,t,m)}}),c&&c.bridget&&c.bridget(t,i),i},y.Item=m,y}var a=t.document,l=t.console,c=t.jQuery,u=function(){},h=Object.prototype.toString,d="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;i>o;o++)if(t[o]===e)return o;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):"object"==typeof exports?module.exports=s(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var o in t){var i=e[o];this.sortData[o]=i(this.element,this)}}};var o=e.prototype.destroy;return e.prototype.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function o(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var i=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,r=i.length;r>n;n++){var s=i[n];o.prototype[s]=t(s)}}(),o.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),o=this.isotope.size&&e;return o&&e.innerHeight!==this.isotope.size.innerHeight},o.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},o.prototype.getSegmentSize=function(t,e){var o=t+e,i="outer"+e;if(this._getMeasurement(o,i),!this[o]){var n=this.getFirstItemSize();this[o]=n&&n[i]||this.isotope.size["inner"+e]}},o.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},o.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},o.modes={},o.create=function(t,e){function i(){o.apply(this,arguments)}return i.prototype=new o,e&&(i.options=e),i.prototype.namespace=t,o.modes[t]=i,i},o}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],o=t&&t.element;this.columnWidth=o&&e(o).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,o=e(t);this.containerWidth=o&&o.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),s=Math.min.apply(Math,r),a=o(r,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,u=this.cols+1-r.length,h=0;u>h;h++)this.colYs[a+h]=c;return l},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],o=this.cols+1-t,i=0;o>i;i++){var n=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,n)}return e},i.prototype._manageStamp=function(t){var o=e(t),i=this._getElementOffset(t),n=this.options.isOriginLeft?i.left:i.right,r=n+o.outerWidth,s=Math.floor(n/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?i.top:i.bottom)+o.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}var o=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;i>o;o++){var n=t[o];if(n===e)return o}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t,o){var i=t.create("masonry"),n=i.prototype._getElementOffset,r=i.prototype.layout,s=i.prototype._getMeasurement;e(i.prototype,o.prototype),i.prototype._getElementOffset=n,i.prototype.layout=r,i.prototype._getMeasurement=s;var a=i.prototype.measureColumns;i.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=i.prototype._manageStamp;return i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},i}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],o):"object"==typeof exports?module.exports=o(require("../layout-mode"),require("masonry-layout")):o(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,o=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>o&&(this.x=0,this.y=this.maxY);var i={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,o=this.y;return this.y+=t.size.outerHeight,{x:e,y:o}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var o in e)t[o]=e[o];return t}function o(t){return"[object Array]"===u.call(t)}function i(t){var e=[];if(o(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function n(t,e){var o=h(e,t);-1!==o&&e.splice(o,1)}function r(t,o,r,l,u){function h(t,e){return function(o,i){for(var n=0,r=t.length;r>n;n++){var s=t[n],a=o.sortData[s],l=i.sortData[s];if(a>l||l>a){var c=void 0!==e[s]?e[s]:e,u=c?1:-1;return(a>l?1:-1)*u}}return 0}}var d=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=l,d.LayoutMode=u,d.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in u.modes)this._initLayoutMode(e)},d.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},d.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),o=0,i=e.length;i>o;o++){var n=e[o];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},d.prototype._initLayoutMode=function(t){var o=u.modes[t],i=this.options[t]||{};this.options[t]=o.options?e(o.options,i):i,this.modes[t]=new o(this)},d.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},d.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},d.prototype.arrange=function(t){function e(){i.reveal(o.needReveal),i.hide(o.needHide)}this.option(t),this._getIsInstant();var o=this._filter(this.items);this.filteredItems=o.matches;var i=this;this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},d.prototype._init=d.prototype.arrange,d.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},d.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var o=[],i=[],n=[],r=this._getFilterTest(e),s=0,a=t.length;a>s;s++){var l=t[s];if(!l.isIgnored){var c=r(l);c&&o.push(l),c&&l.isHidden?i.push(l):c||l.isHidden||n.push(l)}}return{matches:o,needReveal:i,needHide:n}},d.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},d.prototype.updateSortData=function(t){var e;t?(t=i(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},d.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var o=t[e];this._sorters[e]=p(o)}},d.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,o=0;e&&e>o;o++){var i=t[o];i.updateSortData()}};var p=function(){function t(t){if("string"!=typeof t)return t;var o=a(t).split(" "),i=o[0],n=i.match(/^\[(.+)\]$/),r=n&&n[1],s=e(r,i),l=d.sortDataParsers[o[1]];return t=l?function(t){return t&&l(s(t))}:function(t){return t&&s(t)}}function e(t,e){var o;return o=t?function(e){return e.getAttribute(t)}:function(t){var o=t.querySelector(e);return o&&c(o)}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},d.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),o=h(e,this.options.sortAscending);this.filteredItems.sort(o),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},d.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},d.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},d.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},d.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},d.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},d.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var o=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(o)}},d.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=o.concat(this.filteredItems),this.items=e.concat(this.items)}},d.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},d.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var o,i,n=e.length;for(o=0;n>o;o++)i=e[o],this.element.appendChild(i.element);var r=this._filter(e).matches;for(o=0;n>o;o++)e[o].isLayoutInstant=!0;for(this.arrange(),o=0;n>o;o++)delete e[o].isLayoutInstant;this.reveal(r)}};var f=d.prototype.remove;return d.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(f.call(this,t),e&&e.length)for(var o=0,r=e.length;r>o;o++){var s=e[o];n(s,this.filteredItems)}},d.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){var o=this.items[t];o.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},d.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var o=t.call(this);return this.options.transitionDuration=e,o},d.prototype.getFilteredItemElements=function(){for(var t=[],e=0,o=this.filteredItems.length;o>e;e++)t.push(this.filteredItems[e].element);return t},d}var s=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},l=document.documentElement,c=l.textContent?function(t){return t.textContent}:function(t){return t.innerText},u=Object.prototype.toString,h=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;i>o;o++)if(t[o]===e)return o;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],r):"object"==typeof exports?module.exports=r(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=r(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window);